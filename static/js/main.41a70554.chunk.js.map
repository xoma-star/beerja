{"version":3,"sources":["Logos sync /^/.*$","Logos/abbott--big.svg","Logos/abbvie--big.svg","Logos/accenture--big.svg","Logos/activision-blizzard--big.svg","Logos/adobe--big.svg","Logos/advanced-micro-devices--big.svg","Logos/alibaba--big.svg","Logos/alphabet--big.svg","Logos/amazon--big.svg","Logos/american-express--big.svg","Logos/amgen--big.svg","Logos/apple--big.svg","Logos/applied-materials--big.svg","Logos/astrazeneca--big.svg","Logos/at-and-t--big.svg","Logos/bank-of-america--big.svg","Logos/blackrock--big.svg","Logos/blackstone--big.svg","Logos/boeing--big.svg","Logos/booking--big.svg","Logos/bristol-myers-squibb--big.svg","Logos/broadcom--big.svg","Logos/carnival--big.svg","Logos/caterpillar--big.svg","Logos/chevron--big.svg","Logos/cisco--big.svg","Logos/citigroup--big.svg","Logos/cleveland-cliffs--big.svg","Logos/cloudflare-inc--big.svg","Logos/coca-cola--big.svg","Logos/coinbase--big.svg","Logos/comcast--big.svg","Logos/conocophillips--big.svg","Logos/costco-wholesale--big.svg","Logos/crowdstrike--big.svg","Logos/currencies/CH.svg","Logos/currencies/EU.svg","Logos/currencies/GB.svg","Logos/currencies/RU.svg","Logos/currencies/US.svg","Logos/danaher--big.svg","Logos/discovery--big.svg","Logos/docusign--big.svg","Logos/draftkings--big.svg","Logos/ebay--big.svg","Logos/eli-lilly--big.svg","Logos/etsy--big.svg","Logos/exxon--big.svg","Logos/fedex--big.svg","Logos/ford--big.svg","Logos/freeport-mcmoran--big.svg","Logos/garmin-ltd--big.svg","Logos/general-motors--big.svg","Logos/goldman-sachs--big.svg","Logos/home-depot--big.svg","Logos/honeywell--big.svg","Logos/intel--big.svg","Logos/international-bus-mach--big.svg","Logos/intuit--big.svg","Logos/johnson-and-johnson--big.svg","Logos/jpmorgan-chase--big.svg","Logos/lam-research--big.svg","Logos/lowe-s--big.svg","Logos/mastercard--big.svg","Logos/match-group-inc--big.svg","Logos/mcdonalds--big.svg","Logos/medtronic--big.svg","Logos/merck-and-co--big.svg","Logos/meta-platforms--big.svg","Logos/micron-technology--big.svg","Logos/microsoft--big.svg","Logos/moderna--big.svg","Logos/morgan-stanley--big.svg","Logos/netflix--big.svg","Logos/nextera-energy--big.svg","Logos/nike--big.svg","Logos/novartis--big.svg","Logos/nvidia--big.svg","Logos/occidental-petroleum--big.svg","Logos/oracle--big.svg","Logos/palantir--big.svg","Logos/paypal--big.svg","Logos/peloton-interactive-inc--big.svg","Logos/pepsico--big.svg","Logos/pfizer--big.svg","Logos/philip-morris--big.svg","Logos/pinterest--big.svg","Logos/procter-and-gamble--big.svg","Logos/qualcomm--big.svg","Logos/robinhood--big.svg","Logos/roku--big.svg","Logos/royal-bank-of-canada--big.svg","Logos/s-and-p-global--big.svg","Logos/salesforce-com--big.svg","Logos/sap--big.svg","Logos/schwab--big.svg","Logos/sea-limited--big.svg","Logos/shell--big.svg","Logos/shopify--big.svg","Logos/snap--big.svg","Logos/sony--big.svg","Logos/square--big.svg","Logos/starbucks--big.svg","Logos/t-mobile--big.svg","Logos/taiwan-semiconductor--big.svg","Logos/target--big.svg","Logos/tesla--big.svg","Logos/texas-instruments--big.svg","Logos/toyota--big.svg","Logos/twilio--big.svg","Logos/twitter--big.svg","Logos/uber--big.svg","Logos/union-pacific--big.svg","Logos/united-airlines--big.svg","Logos/united-parcel--big.svg","Logos/unitedhealth--big.svg","Logos/verizon--big.svg","Logos/visa--big.svg","Logos/walmart--big.svg","Logos/walt-disney--big.svg","Logos/wells-fargo--big.svg","Logos/zoom-video-communications--big.svg","Logos/zscaler--big.svg","Components/BalanceCard.js","Components/BalanceCards.js","Functions/Firebase.js","Functions/StocksData.js","Components/StockCard.js","Components/Modal.js","Components/StockCardHorizontal.js","Components/CurrenciesGroup.js","Components/OperationCards.js","Components/MarginCards.js","App.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","BalanceCard","p","b","a","rub","usd","eur","level","weight","Intl","NumberFormat","format","toFixed","style","height","size","padding","width","BalanceCards","header","mode","userValue","rubValue","usdValue","eurValue","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","fs","firestore","StocksData","AAPL","name","logo","ADBE","GOOG","AMZN","AXP","BLK","KO","GRMN","INTC","MSFT","F","CCL","CLF","PLTR","T","OXY","FCX","HOOD","UBER","UAL","BAC","DKNG","WFC","VZ","CMCSA","CSCO","BMY","SNAP","GM","PINS","XOM","TWTR","MU","C","COP","EBAY","ATVI","NEE","PTON","ORCL","MS","ABBV","CVX","SBUX","TMUS","AMD","MDT","ABT","IBM","QCOM","AMAT","PG","WMT","PEP","JNJ","MTCH","DIS","JPM","NET","UPS","CAT","TXN","AMGN","BA","LOW","NVDA","V","FDX","ETSY","MCD","LLY","PYPL","TGT","SQ","DOCU","ZM","CRWD","CRM","COIN","ZS","DHR","MRNA","ROKU","FB","ACN","MA","TWLO","HD","GS","SPGI","UNH","AVGO","LRCX","NFLX","TSLA","BKNG","DISCA","RUBUSD","RUBCHF","RUBRUB","RUBEUR","RUBGBP","INTU","BX","SAP","UNP","SCHW","HON","SONY","PM","RY","COST","MRK","SHOP","SE","AZN","NVS","TM","BABA","TSM","PFE","NIKE","StockCard","price","parseFloat","ticker","avgPrice","count","sign","stockData","gainPercents","measure","gain","ruFormat","onClick","bridge","send","setActiveModal","before","src","require","default","description","portfolio","display","indicator","textAlign","color","Modal","useState","type","setType","input","updateInput","marginable","setMarginable","loading","setLoading","t","isBuying","rubToUsd","q","val","available","availableL","isCurency","indexOf","availableS","Math","floor","Number","c","availableC","availableCL","u","rubValueAvailable","availableSL","parseInt","closeModal","s","setTimeout","activeModal","v","onClose","left","dynamicContentHeight","m","stretched","disabled","value","bottom","after","icon","onChange","target","replace","charAt","substr","length","paddingLeft","paddingRight","y","x","chf","gbp","i","push","splice","collection","doc","update","currencies","then","d","StockCardHorizontal","CurrenciesGroup","cash","rates","k","valPrev","OperationCards","paddingTop","paddingBottom","marginTop","tdb","MarginCards","rubValueNaked","leverage","checked","unique","index","self","App","props","state","activePanel","activeStock","stocksMarket","modal","scheme","stocksAvailable","stocksAvailableNextWeek","AlpacaConnected","snackBar","deals","marketOpen","lastBonusTaken","Infinity","api_key","api_secret","getPrice","bind","userDataUpdatesSubscribe","stocksSubscribe","dealComplete","takeDailyBonus","changeMarginStatus","this","connectAlpacaWSS","getCurrencyData","subscribe","detail","setState","data","prevProps","prevState","snapshot","filter","AlpacaSend","onSnapshot","pushStock","thisweek","nextweek","CHFUSD","GBPUSD","EURUSD","usdAbs","forEach","abs","entries","naked","avail","rubValueAbsolute","marginStart","marginMin","fetch","Promise","json","Valute","USD","Value","Previous","EUR","CHF","GBP","portfolioInit","ws","WebSocket","onopen","onmessage","JSON","parse","msg","stockPriceUpdate","S","method","stringify","action","trades","Date","getDate","getTime","stocks","stocksBefore","trade","priceBefore","setInterval","now","getTimezoneOffset","open","close","setHours","setMinutes","setSeconds","isMarketOpen","date","toISOString","headers","window","btoa","catch","panel","background","fill","platform","exchangeRates","setActivePanel","find","activeStory","tabbar","selected","text","React","Component","withPlatform","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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2C,6BCAzC,OAAe,cAA0B,8C,6BCAzC,OAAe,cAA0B,0C,6BCAzC,OAAe,cAA0B,wC,6BCAzC,OAAe,cAA0B,4C,6BCAzC,OAAe,cAA0B,mD,6BCAzC,OAAe,cAA0B,iD,6BCAzC,OAAe,cAA0B,4C,6BCAzC,OAAe,cAA0B,2C,6BCAzC,OAAe,cAA0B,0C,6BCAzC,OAAe,cAA0B,iD,6BCAzC,OAAe,cAA0B,mD,6BCAzC,OAAe,cAA0B,8C,6BCAzC,OAAe,cAA0B,gC,6BCAzC,OAAe,cAA0B,gC,6BCAzC,OAAe,cAA0B,gC,6BCAzC,OAAe,cAA0B,gC,6BCAzC,OAAe,cAA0B,gC,6BCAzC,OAAe,cAA0B,0C,6BCAzC,OAAe,cAA0B,4C,6BCAzC,OAAe,cAA0B,2C,6BCAzC,OAAe,cAA0B,6C,6BCAzC,OAAe,cAA0B,uC,6BCAzC,OAAe,cAA0B,4C,6BCAzC,OAAe,cAA0B,uC,6BCAzC,OAAe,cAA0B,wC,6BCAzC,OAAe,cAA0B,wC,6BCAzC,OAAe,cAA0B,uC,6BCAzC,OAAe,cAA0B,mD,6BCAzC,OAAe,cAA0B,6C,6BCAzC,OAAe,cAA0B,iD,6BCAzC,OAAe,cAA0B,gD,6BCAzC,OAAe,cAA0B,6C,6BCAzC,OAAe,cAA0B,4C,6BCAzC,OAAe,cAA0B,wC,6BCAzC,OAAe,cAA0B,yD,6BCAzC,OAAe,cAA0B,yC,6BCAzC,OAAe,cAA0B,sD,6BCAzC,OAAe,cAA0B,iD,6BCAzC,OAAe,cAA0B,+C,6BCAzC,OAAe,cAA0B,yC,6BCAzC,OAAe,cAA0B,6C,6BCAzC,OAAe,cAA0B,kD,6BCAzC,OAAe,cAA0B,4C,6BCAzC,OAAe,cAA0B,4C,6BCAzC,OAAe,cAA0B,+C,6BCAzC,OAAe,cAA0B,iD,6BCAzC,OAAe,cAA0B,oD,6BCAzC,OAAe,cAA0B,4C,6BCAzC,OAAe,cAA0B,0C,6BCAzC,OAAe,cAA0B,iD,6BCAzC,OAAe,cAA0B,0C,6BCAzC,OAAe,cAA0B,iD,6BCAzC,OAAe,cAA0B,uC,6BCAzC,OAAe,cAA0B,2C,6BCAzC,OAAe,cAA0B,yC,6BCAzC,OAAe,cAA0B,uD,6BCAzC,OAAe,cAA0B,yC,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","file":"static/js/main.41a70554.chunk.js","sourcesContent":["var map = {\n\t\"./abbott--big.svg\": 146,\n\t\"./abbvie--big.svg\": 147,\n\t\"./accenture--big.svg\": 148,\n\t\"./activision-blizzard--big.svg\": 149,\n\t\"./adobe--big.svg\": 150,\n\t\"./advanced-micro-devices--big.svg\": 151,\n\t\"./alibaba--big.svg\": 152,\n\t\"./alphabet--big.svg\": 153,\n\t\"./amazon--big.svg\": 154,\n\t\"./american-express--big.svg\": 155,\n\t\"./amgen--big.svg\": 156,\n\t\"./apple--big.svg\": 157,\n\t\"./applied-materials--big.svg\": 158,\n\t\"./astrazeneca--big.svg\": 159,\n\t\"./at-and-t--big.svg\": 160,\n\t\"./bank-of-america--big.svg\": 161,\n\t\"./blackrock--big.svg\": 162,\n\t\"./blackstone--big.svg\": 163,\n\t\"./boeing--big.svg\": 164,\n\t\"./booking--big.svg\": 165,\n\t\"./bristol-myers-squibb--big.svg\": 166,\n\t\"./broadcom--big.svg\": 167,\n\t\"./carnival--big.svg\": 168,\n\t\"./caterpillar--big.svg\": 169,\n\t\"./chevron--big.svg\": 170,\n\t\"./cisco--big.svg\": 171,\n\t\"./citigroup--big.svg\": 172,\n\t\"./cleveland-cliffs--big.svg\": 173,\n\t\"./cloudflare-inc--big.svg\": 174,\n\t\"./coca-cola--big.svg\": 175,\n\t\"./coinbase--big.svg\": 176,\n\t\"./comcast--big.svg\": 177,\n\t\"./conocophillips--big.svg\": 178,\n\t\"./costco-wholesale--big.svg\": 179,\n\t\"./crowdstrike--big.svg\": 180,\n\t\"./currencies/CH.svg\": 181,\n\t\"./currencies/EU.svg\": 182,\n\t\"./currencies/GB.svg\": 183,\n\t\"./currencies/RU.svg\": 184,\n\t\"./currencies/US.svg\": 185,\n\t\"./danaher--big.svg\": 186,\n\t\"./discovery--big.svg\": 187,\n\t\"./docusign--big.svg\": 188,\n\t\"./draftkings--big.svg\": 189,\n\t\"./ebay--big.svg\": 190,\n\t\"./eli-lilly--big.svg\": 191,\n\t\"./etsy--big.svg\": 192,\n\t\"./exxon--big.svg\": 193,\n\t\"./fedex--big.svg\": 194,\n\t\"./ford--big.svg\": 195,\n\t\"./freeport-mcmoran--big.svg\": 196,\n\t\"./garmin-ltd--big.svg\": 197,\n\t\"./general-motors--big.svg\": 198,\n\t\"./goldman-sachs--big.svg\": 199,\n\t\"./home-depot--big.svg\": 200,\n\t\"./honeywell--big.svg\": 201,\n\t\"./intel--big.svg\": 202,\n\t\"./international-bus-mach--big.svg\": 203,\n\t\"./intuit--big.svg\": 204,\n\t\"./johnson-and-johnson--big.svg\": 205,\n\t\"./jpmorgan-chase--big.svg\": 206,\n\t\"./lam-research--big.svg\": 207,\n\t\"./lowe-s--big.svg\": 208,\n\t\"./mastercard--big.svg\": 209,\n\t\"./match-group-inc--big.svg\": 210,\n\t\"./mcdonalds--big.svg\": 211,\n\t\"./medtronic--big.svg\": 212,\n\t\"./merck-and-co--big.svg\": 213,\n\t\"./meta-platforms--big.svg\": 214,\n\t\"./micron-technology--big.svg\": 215,\n\t\"./microsoft--big.svg\": 216,\n\t\"./moderna--big.svg\": 217,\n\t\"./morgan-stanley--big.svg\": 218,\n\t\"./netflix--big.svg\": 219,\n\t\"./nextera-energy--big.svg\": 220,\n\t\"./nike--big.svg\": 221,\n\t\"./novartis--big.svg\": 222,\n\t\"./nvidia--big.svg\": 223,\n\t\"./occidental-petroleum--big.svg\": 224,\n\t\"./oracle--big.svg\": 225,\n\t\"./palantir--big.svg\": 226,\n\t\"./paypal--big.svg\": 227,\n\t\"./peloton-interactive-inc--big.svg\": 228,\n\t\"./pepsico--big.svg\": 229,\n\t\"./pfizer--big.svg\": 230,\n\t\"./philip-morris--big.svg\": 231,\n\t\"./pinterest--big.svg\": 232,\n\t\"./procter-and-gamble--big.svg\": 233,\n\t\"./qualcomm--big.svg\": 234,\n\t\"./robinhood--big.svg\": 235,\n\t\"./roku--big.svg\": 236,\n\t\"./royal-bank-of-canada--big.svg\": 237,\n\t\"./s-and-p-global--big.svg\": 238,\n\t\"./salesforce-com--big.svg\": 239,\n\t\"./sap--big.svg\": 240,\n\t\"./schwab--big.svg\": 241,\n\t\"./sea-limited--big.svg\": 242,\n\t\"./shell--big.svg\": 243,\n\t\"./shopify--big.svg\": 244,\n\t\"./snap--big.svg\": 245,\n\t\"./sony--big.svg\": 246,\n\t\"./square--big.svg\": 247,\n\t\"./starbucks--big.svg\": 248,\n\t\"./t-mobile--big.svg\": 249,\n\t\"./taiwan-semiconductor--big.svg\": 250,\n\t\"./target--big.svg\": 251,\n\t\"./tesla--big.svg\": 252,\n\t\"./texas-instruments--big.svg\": 253,\n\t\"./toyota--big.svg\": 254,\n\t\"./twilio--big.svg\": 255,\n\t\"./twitter--big.svg\": 256,\n\t\"./uber--big.svg\": 257,\n\t\"./union-pacific--big.svg\": 258,\n\t\"./united-airlines--big.svg\": 259,\n\t\"./united-parcel--big.svg\": 260,\n\t\"./unitedhealth--big.svg\": 261,\n\t\"./verizon--big.svg\": 262,\n\t\"./visa--big.svg\": 263,\n\t\"./walmart--big.svg\": 264,\n\t\"./walt-disney--big.svg\": 265,\n\t\"./wells-fargo--big.svg\": 266,\n\t\"./zoom-video-communications--big.svg\": 267,\n\t\"./zscaler--big.svg\": 268\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 48;","export default __webpack_public_path__ + \"static/media/abbott--big.d1a443a1.svg\";","export default __webpack_public_path__ + \"static/media/abbvie--big.8ffe04c4.svg\";","export default __webpack_public_path__ + \"static/media/accenture--big.93aae62c.svg\";","export default __webpack_public_path__ + \"static/media/activision-blizzard--big.23b741e5.svg\";","export default __webpack_public_path__ + \"static/media/adobe--big.98cc2849.svg\";","export default __webpack_public_path__ + \"static/media/advanced-micro-devices--big.35ac354f.svg\";","export default __webpack_public_path__ + \"static/media/alibaba--big.aefc15ce.svg\";","export default __webpack_public_path__ + \"static/media/alphabet--big.1fd8d0cf.svg\";","export default __webpack_public_path__ + \"static/media/amazon--big.86572285.svg\";","export default __webpack_public_path__ + \"static/media/american-express--big.f2f13164.svg\";","export default __webpack_public_path__ + \"static/media/amgen--big.2fe0646b.svg\";","export default __webpack_public_path__ + \"static/media/apple--big.47cacdad.svg\";","export default __webpack_public_path__ + \"static/media/applied-materials--big.0844ca33.svg\";","export default __webpack_public_path__ + \"static/media/astrazeneca--big.568c3976.svg\";","export default __webpack_public_path__ + \"static/media/at-and-t--big.05f4dcca.svg\";","export default __webpack_public_path__ + \"static/media/bank-of-america--big.c91afcf8.svg\";","export default __webpack_public_path__ + \"static/media/blackrock--big.23dd7937.svg\";","export default __webpack_public_path__ + \"static/media/blackstone--big.36d69e1e.svg\";","export default __webpack_public_path__ + \"static/media/boeing--big.6b4f78c9.svg\";","export default __webpack_public_path__ + \"static/media/booking--big.6a71343a.svg\";","export default __webpack_public_path__ + \"static/media/bristol-myers-squibb--big.624a6eda.svg\";","export default __webpack_public_path__ + \"static/media/broadcom--big.f0b67497.svg\";","export default __webpack_public_path__ + \"static/media/carnival--big.64f698a9.svg\";","export default __webpack_public_path__ + \"static/media/caterpillar--big.53b9164b.svg\";","export default __webpack_public_path__ + \"static/media/chevron--big.e782833b.svg\";","export default __webpack_public_path__ + \"static/media/cisco--big.e704d3b6.svg\";","export default __webpack_public_path__ + \"static/media/citigroup--big.6f647b6c.svg\";","export default __webpack_public_path__ + \"static/media/cleveland-cliffs--big.4c848c0c.svg\";","export default __webpack_public_path__ + \"static/media/cloudflare-inc--big.e10a236a.svg\";","export default __webpack_public_path__ + \"static/media/coca-cola--big.0b539a92.svg\";","export default __webpack_public_path__ + \"static/media/coinbase--big.417752be.svg\";","export default __webpack_public_path__ + \"static/media/comcast--big.c237fdba.svg\";","export default __webpack_public_path__ + \"static/media/conocophillips--big.c84e6731.svg\";","export default __webpack_public_path__ + \"static/media/costco-wholesale--big.c23d2aa5.svg\";","export default __webpack_public_path__ + \"static/media/crowdstrike--big.d866a5b6.svg\";","export default __webpack_public_path__ + \"static/media/CH.8eb12932.svg\";","export default __webpack_public_path__ + \"static/media/EU.cc1cffe9.svg\";","export default __webpack_public_path__ + \"static/media/GB.3de1330d.svg\";","export default __webpack_public_path__ + \"static/media/RU.5a603708.svg\";","export default __webpack_public_path__ + \"static/media/US.9fafc209.svg\";","export default __webpack_public_path__ + \"static/media/danaher--big.3121a5f9.svg\";","export default __webpack_public_path__ + \"static/media/discovery--big.9dc4784a.svg\";","export default __webpack_public_path__ + \"static/media/docusign--big.729e51fe.svg\";","export default __webpack_public_path__ + \"static/media/draftkings--big.ea7cc444.svg\";","export default __webpack_public_path__ + \"static/media/ebay--big.e906bb38.svg\";","export default __webpack_public_path__ + \"static/media/eli-lilly--big.1a359fca.svg\";","export default __webpack_public_path__ + \"static/media/etsy--big.2078ae33.svg\";","export default __webpack_public_path__ + \"static/media/exxon--big.dbae804c.svg\";","export default __webpack_public_path__ + \"static/media/fedex--big.2d0cf948.svg\";","export default __webpack_public_path__ + \"static/media/ford--big.c90604a8.svg\";","export default __webpack_public_path__ + \"static/media/freeport-mcmoran--big.a2fc6d2d.svg\";","export default __webpack_public_path__ + \"static/media/garmin-ltd--big.96a04453.svg\";","export default __webpack_public_path__ + \"static/media/general-motors--big.fae13411.svg\";","export default __webpack_public_path__ + \"static/media/goldman-sachs--big.dbca8837.svg\";","export default __webpack_public_path__ + \"static/media/home-depot--big.7adbd2ad.svg\";","export default __webpack_public_path__ + \"static/media/honeywell--big.9355e688.svg\";","export default __webpack_public_path__ + \"static/media/intel--big.0cfaf02c.svg\";","export default __webpack_public_path__ + \"static/media/international-bus-mach--big.629e8a44.svg\";","export default __webpack_public_path__ + \"static/media/intuit--big.c2b9e63b.svg\";","export default __webpack_public_path__ + \"static/media/johnson-and-johnson--big.84ffa4be.svg\";","export default __webpack_public_path__ + \"static/media/jpmorgan-chase--big.a7ad55fd.svg\";","export default __webpack_public_path__ + \"static/media/lam-research--big.13ed8747.svg\";","export default __webpack_public_path__ + \"static/media/lowe-s--big.1f7ba8c8.svg\";","export default __webpack_public_path__ + \"static/media/mastercard--big.da9e36f9.svg\";","export default __webpack_public_path__ + \"static/media/match-group-inc--big.efd9216a.svg\";","export default __webpack_public_path__ + \"static/media/mcdonalds--big.a091bff1.svg\";","export default __webpack_public_path__ + \"static/media/medtronic--big.dc577b00.svg\";","export default __webpack_public_path__ + \"static/media/merck-and-co--big.821e9d59.svg\";","export default __webpack_public_path__ + \"static/media/meta-platforms--big.ebf89a03.svg\";","export default __webpack_public_path__ + \"static/media/micron-technology--big.adfcfb6b.svg\";","export default __webpack_public_path__ + \"static/media/microsoft--big.dcfa5bc3.svg\";","export default __webpack_public_path__ + \"static/media/moderna--big.496e5f4a.svg\";","export default __webpack_public_path__ + \"static/media/morgan-stanley--big.51dd83db.svg\";","export default __webpack_public_path__ + \"static/media/netflix--big.a3160fb6.svg\";","export default __webpack_public_path__ + \"static/media/nextera-energy--big.d516f386.svg\";","export default __webpack_public_path__ + \"static/media/nike--big.b5615352.svg\";","export default __webpack_public_path__ + \"static/media/novartis--big.37b0c4f0.svg\";","export default __webpack_public_path__ + \"static/media/nvidia--big.3b1a848e.svg\";","export default __webpack_public_path__ + \"static/media/occidental-petroleum--big.ced77eea.svg\";","export default __webpack_public_path__ + \"static/media/oracle--big.afe7a3e9.svg\";","export default __webpack_public_path__ + \"static/media/palantir--big.7bf91d2d.svg\";","export default __webpack_public_path__ + \"static/media/paypal--big.f0181ddf.svg\";","export default __webpack_public_path__ + \"static/media/peloton-interactive-inc--big.83788ab7.svg\";","export default __webpack_public_path__ + \"static/media/pepsico--big.56050994.svg\";","export default __webpack_public_path__ + \"static/media/pfizer--big.b04d4be6.svg\";","export default __webpack_public_path__ + \"static/media/philip-morris--big.4062bfa2.svg\";","export default __webpack_public_path__ + \"static/media/pinterest--big.c5748955.svg\";","export default __webpack_public_path__ + \"static/media/procter-and-gamble--big.c4e68203.svg\";","export default __webpack_public_path__ + \"static/media/qualcomm--big.bfc96038.svg\";","export default __webpack_public_path__ + \"static/media/robinhood--big.b46653ad.svg\";","export default __webpack_public_path__ + \"static/media/roku--big.19d4ce51.svg\";","export default __webpack_public_path__ + \"static/media/royal-bank-of-canada--big.64d3ead2.svg\";","export default __webpack_public_path__ + \"static/media/s-and-p-global--big.7b481ec6.svg\";","export default __webpack_public_path__ + \"static/media/salesforce-com--big.7d848a31.svg\";","export default __webpack_public_path__ + \"static/media/sap--big.749c7f9f.svg\";","export default __webpack_public_path__ + \"static/media/schwab--big.08d2d978.svg\";","export default __webpack_public_path__ + \"static/media/sea-limited--big.0fa387d6.svg\";","export default __webpack_public_path__ + \"static/media/shell--big.237de1bc.svg\";","export default __webpack_public_path__ + \"static/media/shopify--big.d7a55ca1.svg\";","export default __webpack_public_path__ + \"static/media/snap--big.dc586f5f.svg\";","export default __webpack_public_path__ + \"static/media/sony--big.47da13f9.svg\";","export default __webpack_public_path__ + \"static/media/square--big.fe592e00.svg\";","export default __webpack_public_path__ + \"static/media/starbucks--big.ed89e883.svg\";","export default __webpack_public_path__ + \"static/media/t-mobile--big.8ab0e45c.svg\";","export default __webpack_public_path__ + \"static/media/taiwan-semiconductor--big.0afb8fb5.svg\";","export default __webpack_public_path__ + \"static/media/target--big.c25ed9c6.svg\";","export default __webpack_public_path__ + \"static/media/tesla--big.ce6c3e27.svg\";","export default __webpack_public_path__ + \"static/media/texas-instruments--big.a610f9df.svg\";","export default __webpack_public_path__ + \"static/media/toyota--big.240bcc2e.svg\";","export default __webpack_public_path__ + \"static/media/twilio--big.982c4f26.svg\";","export default __webpack_public_path__ + \"static/media/twitter--big.f09755e3.svg\";","export default __webpack_public_path__ + \"static/media/uber--big.f9927047.svg\";","export default __webpack_public_path__ + \"static/media/union-pacific--big.8896992a.svg\";","export default __webpack_public_path__ + \"static/media/united-airlines--big.5ae0125e.svg\";","export default __webpack_public_path__ + \"static/media/united-parcel--big.b7d7bbcd.svg\";","export default __webpack_public_path__ + \"static/media/unitedhealth--big.210bbb4f.svg\";","export default __webpack_public_path__ + \"static/media/verizon--big.1830b106.svg\";","export default __webpack_public_path__ + \"static/media/visa--big.a2c08d9e.svg\";","export default __webpack_public_path__ + \"static/media/walmart--big.8bfbe2a2.svg\";","export default __webpack_public_path__ + \"static/media/walt-disney--big.d89188cc.svg\";","export default __webpack_public_path__ + \"static/media/wells-fargo--big.f4deb8d4.svg\";","export default __webpack_public_path__ + \"static/media/zoom-video-communications--big.ee12dbf3.svg\";","export default __webpack_public_path__ + \"static/media/zscaler--big.273b3f05.svg\";","import React from 'react';\r\nimport {Card, Spinner, Text, Title} from \"@vkontakte/vkui\";\r\n\r\nconst BalanceCard = (p) => {\r\n    const a = {\r\n        rub: ['рублях', '₽'],\r\n        usd: ['долларах', '$'],\r\n        eur: ['евро', '€']\r\n    };\r\n    let b;\r\n    if(p.b){\r\n        b = <Title level={1} weight={\"semibold\"}>{new Intl.NumberFormat('ru-RU').format(p.b.toFixed(2))} {a[p.a][1]}</Title>\r\n    }\r\n    else{\r\n        b = <Spinner style={{height: 28}} size={'regular'}/>\r\n    }\r\n    return <Card style={{padding: 16, width: 'auto'}}>\r\n        <div>\r\n            <Text weight={\"regular\"}>в {a[p.a][0]}</Text>\r\n            {b}\r\n        </div>\r\n    </Card>\r\n}\r\n\r\nexport default BalanceCard;","import React from 'react'\r\nimport {CardScroll, Group, Header, Spinner} from \"@vkontakte/vkui\";\r\nimport BalanceCard from \"./BalanceCard\";\r\n\r\nconst BalanceCards = (p) => {\r\n    // console.log(p);\r\n    // if(!p.userValue.usdValue){\r\n    //     return <Spinner/>\r\n    // }\r\n    // let CHFUSD = p.exchangeRates.chf.val / p.exchangeRates.usd.val;\r\n    // let GBPUSD = p.exchangeRates.gbp.val / p.exchangeRates.usd.val;\r\n    // let EURUSD = p.exchangeRates.eur.val / p.exchangeRates.usd.val;\r\n    // let RUBUSD = p.exchangeRates.rub.val / p.exchangeRates.usd.val;\r\n    // let rates = {\r\n    //     usd: 1,\r\n    //     chf: CHFUSD,\r\n    //     gbp: GBPUSD,\r\n    //     eur: EURUSD,\r\n    //     rub: RUBUSD\r\n    // }\r\n    // let usdValue = 0;\r\n    // p.portfolio.forEach(v => {\r\n    //     usdValue += v.price * v.count;\r\n    // });\r\n    // for (const [k, v] of Object.entries(p.cash)) {\r\n    //     usdValue += v.count * rates[k];\r\n    // }\r\n    // let eurValue = usdValue / EURUSD;\r\n    // let rubValue = usdValue / RUBUSD;\r\n\r\n    return <Group header={<Header mode={\"secondary\"}>Счет</Header>}>\r\n        <CardScroll>\r\n            <BalanceCard a={'rub'} b={p.userValue.rubValue}/>\r\n            <BalanceCard a={'usd'} b={p.userValue.usdValue}/>\r\n            <BalanceCard a={'eur'} b={p.userValue.eurValue}/>\r\n        </CardScroll>\r\n    </Group>\r\n}\r\n\r\nexport default BalanceCards;","// Import the functions you need from the SDKs you need\r\nimport firebase from \"firebase\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDlCktyJU_nwYj-6SDlguxSLRAk6weznEQ\",\r\n    authDomain: \"beerja-84e5f.firebaseapp.com\",\r\n    projectId: \"beerja-84e5f\",\r\n    storageBucket: \"beerja-84e5f.appspot.com\",\r\n    messagingSenderId: \"453501298891\",\r\n    appId: \"1:453501298891:web:f31455addf2f4bb85d934e\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconst fs = firebase.firestore();\r\n\r\nexport default fs;","const StocksData = {\r\n    AAPL: {\r\n        name: 'Apple Inc.',\r\n        logo: 'apple--big.svg'\r\n    },\r\n    ADBE: {\r\n        name: 'Adobe',\r\n        logo: 'adobe--big.svg'\r\n    },\r\n    GOOG: {\r\n        name: 'Alphabet Inc.',\r\n        logo: 'alphabet--big.svg'\r\n    },\r\n    AMZN: {\r\n        name: 'Amazon',\r\n        logo: 'amazon--big.svg'\r\n    },\r\n    AXP: {\r\n        name: 'American Express Company',\r\n        logo: 'american-express--big.svg'\r\n    },\r\n    BLK: {\r\n        name: 'BlackRock, Inc.',\r\n        logo: 'blackrock--big.svg'\r\n    },\r\n    KO: {\r\n        name: 'Coca-Cola',\r\n        logo: 'coca-cola--big.svg'\r\n    },\r\n    GRMN: {\r\n        name: 'Garmin LTD.',\r\n        logo: 'garmin-ltd--big.svg'\r\n    },\r\n    INTC: {\r\n        name: 'Intel',\r\n        logo: 'intel--big.svg'\r\n    },\r\n    MSFT: {\r\n        name: 'Microsoft',\r\n        logo: 'microsoft--big.svg'\r\n    },\r\n    F: {\r\n        name: 'Ford Motor Company',\r\n        logo: 'ford--big.svg'\r\n    },\r\n    CCL: {\r\n        name: 'Carnival Corporation',\r\n        logo: 'carnival--big.svg'\r\n    },\r\n    CLF: {\r\n        name: 'Cleveland-Cliffs Inc',\r\n        logo: 'cleveland-cliffs--big.svg'\r\n    },\r\n    PLTR: {\r\n        name: 'Palantir Technologies Inc',\r\n        logo: 'palantir--big.svg'\r\n    },\r\n    T: {\r\n        name: 'AT&T Inc',\r\n        logo: 'at-and-t--big.svg'\r\n    },\r\n    OXY: {\r\n        name: 'Occidental Petroleum Corporation',\r\n        logo: 'occidental-petroleum--big.svg'\r\n    },\r\n    FCX: {\r\n        name: 'Freeport-McMoran, Inc',\r\n        logo: 'freeport-mcmoran--big.svg'\r\n    },\r\n    HOOD: {\r\n        name: 'Robinhood Markets, Inc',\r\n        logo: 'robinhood--big.svg'\r\n    },\r\n    UBER: {\r\n        name: 'Uber Technologies, Inc',\r\n        logo: 'uber--big.svg'\r\n    },\r\n    UAL: {\r\n        name: 'United Airlines Holdings, Inc',\r\n        logo: 'united-airlines--big.svg'\r\n    },\r\n    BAC: {\r\n        name: 'Bank of America Corporation',\r\n        logo: 'bank-of-america--big.svg'\r\n    },\r\n    DKNG: {\r\n        name: 'Draftkings Inc',\r\n        logo: 'draftkings--big.svg'\r\n    },\r\n    WFC: {\r\n        name: 'Wells Fargo & Company',\r\n        logo: 'wells-fargo--big.svg'\r\n    },\r\n    VZ: {\r\n        name: 'Verizon Communications Inc',\r\n        logo: 'verizon--big.svg'\r\n    },\r\n    CMCSA: {\r\n        name: 'Comcast Corporation',\r\n        logo: 'comcast--big.svg'\r\n    },\r\n    CSCO: {\r\n        name: 'Cisco Systems, Inc',\r\n        logo: 'cisco--big.svg'\r\n    },\r\n    BMY: {\r\n        name: 'Bristol-Myers SQUIBB Company',\r\n        logo: 'bristol-myers-squibb--big.svg'\r\n    },\r\n    SNAP: {\r\n        name: 'Snap Inc',\r\n        logo: 'snap--big.svg'\r\n    },\r\n    GM: {\r\n        name: 'General Motors Company',\r\n        logo: 'general-motors--big.svg'\r\n    },\r\n    PINS: {\r\n        name: 'Pinterest, Inc',\r\n        logo: 'pinterest--big.svg'\r\n    },\r\n    XOM: {\r\n        name: 'Exxon Mobil Corporation',\r\n        logo: 'exxon--big.svg'\r\n    },\r\n    TWTR: {\r\n        name: 'Twitter Inc',\r\n        logo: 'twitter--big.svg'\r\n    },\r\n    MU: {\r\n        name: 'Micron Technology, Inc',\r\n        logo: 'micron-technology--big.svg'\r\n    },\r\n    C: {\r\n        name: 'CitiGroup, Inc',\r\n        logo: 'citigroup--big.svg'\r\n    },\r\n    COP: {\r\n        name: 'Conocophillips',\r\n        logo: 'conocophillips--big.svg'\r\n    },\r\n    EBAY: {\r\n        name: 'ebay Inc',\r\n        logo: 'ebay--big.svg'\r\n    },\r\n    ATVI: {\r\n        name: 'Activision Blizzard, Inc',\r\n        logo: 'activision-blizzard--big.svg'\r\n    },\r\n    NEE: {\r\n        name: 'NextEra Energy, Inc',\r\n        logo: 'nextera-energy--big.svg'\r\n    },\r\n    PTON: {\r\n        name: 'Peloton Interactive, Inc',\r\n        logo: 'peloton-interactive-inc--big.svg'\r\n    },\r\n    ORCL: {\r\n        name: 'Oracle Corporation',\r\n        logo: 'oracle--big.svg'\r\n    },\r\n    MS: {\r\n        name: 'Morgan Stanley',\r\n        logo: 'morgan-stanley--big.svg'\r\n    },\r\n    ABBV: {\r\n        name: 'Abbvie Inc',\r\n        logo: 'abbvie--big.svg'\r\n    },\r\n    CVX: {\r\n        name: 'Chevron Corporation',\r\n        logo: 'chevron--big.svg'\r\n    },\r\n    SBUX: {\r\n        name: 'Starbucks Corporation',\r\n        logo: 'starbucks--big.svg'\r\n    },\r\n    TMUS: {\r\n        name: 'T-Mobile US, Inc',\r\n        logo: 't-mobile--big.svg'\r\n    },\r\n    AMD: {\r\n        name: 'AMD',\r\n        logo: 'advanced-micro-devices--big.svg'\r\n    },\r\n    MDT: {\r\n        name: 'Medtronic PLC',\r\n        logo: 'medtronic--big.svg'\r\n    },\r\n    ABT: {\r\n        name: 'Abbott Labaratories',\r\n        logo: 'abbott--big.svg'\r\n    },\r\n    IBM:{\r\n        name: 'IBM',\r\n        logo: 'international-bus-mach--big.svg'\r\n    },\r\n    QCOM: {\r\n        name: 'Qualcomm',\r\n        logo: 'qualcomm--big.svg'\r\n    },\r\n    AMAT: {\r\n        name: 'Applied Materials',\r\n        logo: 'applied-materials--big.svg'\r\n    },\r\n    PG: {\r\n        name: 'Procter & Gamble',\r\n        logo: 'procter-and-gamble--big.svg'\r\n    },\r\n    WMT: {\r\n        name: 'Walmart',\r\n        logo: 'walmart--big.svg'\r\n    },\r\n    PEP: {\r\n        name: 'Pepsico',\r\n        logo: 'pepsico--big.svg'\r\n    },\r\n    JNJ: {\r\n        name: 'Johnson & Johnson',\r\n        logo: 'johnson-and-johnson--big.svg'\r\n    },\r\n    MTCH: {\r\n        name: 'Match Group',\r\n        logo: 'match-group-inc--big.svg'\r\n    },\r\n    DIS: {\r\n        name: 'Disney',\r\n        logo: 'walt-disney--big.svg'\r\n    },\r\n    JPM: {\r\n        name: 'JP Morgan Chase',\r\n        logo: 'jpmorgan-chase--big.svg'\r\n    },\r\n    NET: {\r\n        name: 'Cloudflare',\r\n        logo: 'cloudflare-inc--big.svg'\r\n    },\r\n    UPS: {\r\n        name: 'United Parcel Service',\r\n        logo: 'united-parcel--big.svg'\r\n    },\r\n    CAT: {\r\n        name: 'Caterpillar',\r\n        logo: 'caterpillar--big.svg'\r\n    },\r\n    TXN: {\r\n        name: 'Texas Instruments',\r\n        logo: 'texas-instruments--big.svg'\r\n    },\r\n    AMGN: {\r\n        name: 'AMGEN',\r\n        logo: 'amgen--big.svg'\r\n    },\r\n    BA: {\r\n        name: 'Boeing Company',\r\n        logo: 'boeing--big.svg'\r\n    },\r\n    LOW: {\r\n        name: 'Lowe`s Companies',\r\n        logo: 'lowe-s--big.svg'\r\n    },\r\n    NVDA: {\r\n        name: 'NVIDIA',\r\n        logo: 'nvidia--big.svg'\r\n    },\r\n    V: {\r\n        name: 'VISA',\r\n        logo: 'visa--big.svg'\r\n    },\r\n    FDX: {\r\n        name: 'FedEX',\r\n        logo: 'fedex--big.svg'\r\n    },\r\n    ETSY: {\r\n        name: 'ETSY, Inc',\r\n        logo: 'etsy--big.svg'\r\n    },\r\n    MCD: {\r\n        name: 'McDonald`s',\r\n        logo: 'mcdonalds--big.svg'\r\n    },\r\n    LLY: {\r\n        name: 'Eli Lilly and Company',\r\n        logo: 'eli-lilly--big.svg'\r\n    },\r\n    PYPL: {\r\n        name: 'PayPal Holdings',\r\n        logo: 'paypal--big.svg'\r\n    },\r\n    TGT: {\r\n        name: 'Target Corporation',\r\n        logo: 'target--big.svg'\r\n    },\r\n    SQ: {\r\n        name: 'Square, Inc',\r\n        logo: 'square--big.svg'\r\n    },\r\n    DOCU: {\r\n        name: 'Docusign',\r\n        logo: 'docusign--big.svg'\r\n    },\r\n    ZM: {\r\n        name: 'Zoom Video Communications',\r\n        logo: 'zoom-video-communications--big.svg'\r\n    },\r\n    CRWD: {\r\n        name: 'Crowdstrike Holdings',\r\n        logo: 'crowdstrike--big.svg'\r\n    },\r\n    CRM: {\r\n        name: 'Salesforce.com',\r\n        logo: 'salesforce-com--big.svg'\r\n    },\r\n    COIN: {\r\n        name: 'Coinbase',\r\n        logo: 'coinbase--big.svg'\r\n    },\r\n    ZS: {\r\n        name: 'Zscaler',\r\n        logo: 'zscaler--big.svg'\r\n    },\r\n    DHR: {\r\n        name: 'Danaher Corporation',\r\n        logo: 'danaher--big.svg'\r\n    },\r\n    MRNA: {\r\n        name: 'Moderna',\r\n        logo: 'moderna--big.svg'\r\n    },\r\n    ROKU: {\r\n        name: 'Roku, Inc',\r\n        logo: 'roku--big.svg'\r\n    },\r\n    FB: {\r\n        name: 'Meta Platforms',\r\n        logo: 'meta-platforms--big.svg'\r\n    },\r\n    ACN: {\r\n        name: 'Accenture Inc',\r\n        logo: 'accenture--big.svg'\r\n    },\r\n    MA: {\r\n        name: 'MasterCard',\r\n        logo: 'mastercard--big.svg'\r\n    },\r\n    TWLO: {\r\n        name: 'Twilio Inc',\r\n        logo: 'twilio--big.svg'\r\n    },\r\n    HD: {\r\n        name: 'Home Depot',\r\n        logo: 'home-depot--big.svg'\r\n    },\r\n    GS: {\r\n        name: 'Goldman Sachs Group',\r\n        logo: 'goldman-sachs--big.svg'\r\n    },\r\n    SPGI: {\r\n        name: 'S&P Global',\r\n        logo: 's-and-p-global--big.svg'\r\n    },\r\n    UNH: {\r\n        name: 'UnitedHealth Group',\r\n        logo: 'unitedhealth--big.svg'\r\n    },\r\n    AVGO: {\r\n        name: 'Broadcom Inc',\r\n        logo: 'broadcom--big.svg'\r\n    },\r\n    LRCX: {\r\n        name: 'Lam Research Corporation',\r\n        logo: 'lam-research--big.svg'\r\n    },\r\n    NFLX: {\r\n        name: 'Netflix',\r\n        logo: 'netflix--big.svg'\r\n    },\r\n    TSLA: {\r\n        name: 'Tesla, Inc',\r\n        logo: 'tesla--big.svg'\r\n    },\r\n    BKNG: {\r\n        name: 'Booking.com',\r\n        logo: 'booking--big.svg'\r\n    },\r\n    DISCA: {\r\n        name: 'Discovery, Inc',\r\n        logo: 'discovery--big.svg'\r\n    },\r\n    RUBUSD:{\r\n        name: 'Доллар США',\r\n        logo: 'currencies/US.svg'\r\n    },\r\n    RUBCHF: {\r\n        name: 'Швейцарский франк',\r\n        logo: 'currencies/CH.svg'\r\n    },\r\n    RUBRUB: {\r\n        name: 'Российский рубль',\r\n        logo: 'currencies/RU.svg'\r\n    },\r\n    RUBEUR: {\r\n        name: 'Евро',\r\n        logo: 'currencies/EU.svg'\r\n    },\r\n    RUBGBP: {\r\n        name: 'Британский фунт',\r\n        logo: 'currencies/GB.svg'\r\n    },\r\n    'RDS.A':  {\r\n        name: 'Royal Dutch Shell',\r\n        logo: 'shell--big.svg'\r\n    },\r\n    INTU: {\r\n        name: 'Intuit',\r\n        logo: 'intuit--big.svg'\r\n    },\r\n    BX: {\r\n        name: 'BlackStone',\r\n        logo: 'blackstone--big.svg'\r\n    },\r\n    SAP: {\r\n        name: 'SAP SE',\r\n        logo: 'sap--big.svg'\r\n    },\r\n    UNP: {\r\n        name: 'Union Pacific Corporation',\r\n        logo: 'union-pacific--big.svg'\r\n    },\r\n    SCHW: {\r\n        name: 'Charles Schwab',\r\n        logo: 'schwab--big.svg'\r\n    },\r\n    HON: {\r\n        name: 'Honeywell International',\r\n        logo: 'honeywell--big.svg'\r\n    },\r\n    SONY: {\r\n        name: 'SONY Group',\r\n        logo: 'sony--big.svg'\r\n    },\r\n    PM: {\r\n        name: 'Philip Morris',\r\n        logo: 'philip-morris--big.svg'\r\n    },\r\n    RY: {\r\n        name: 'Royal Bank of Canada',\r\n        logo: 'royal-bank-of-canada--big.svg'\r\n    },\r\n    COST: {\r\n        name: 'Costco Wholesale',\r\n        logo: 'costco-wholesale--big.svg'\r\n    },\r\n    MRK: {\r\n        name: 'Merck & Company',\r\n        logo: 'merck-and-co--big.svg'\r\n    },\r\n    SHOP: {\r\n        name: 'Shopify',\r\n        logo: 'shopify--big.svg'\r\n    },\r\n    SE: {\r\n        name: 'Sea',\r\n        logo: 'sea-limited--big.svg'\r\n    },\r\n    AZN: {\r\n        name: 'Astrazeneca',\r\n        logo: 'astrazeneca--big.svg'\r\n    },\r\n    NVS: {\r\n        name: 'Novartis AG',\r\n        logo: 'novartis--big.svg'\r\n    },\r\n    TM: {\r\n        name: 'Toyota Motor',\r\n        logo: 'toyota--big.svg'\r\n    },\r\n    BABA: {\r\n        name: 'Alibaba Group',\r\n        logo: 'alibaba--big.svg'\r\n    },\r\n    TSM: {\r\n        name: 'TSMC',\r\n        logo: 'taiwan-semiconductor--big.svg'\r\n    },\r\n    PFE: {\r\n        name: 'Pfizer',\r\n        logo: 'pfizer--big.svg'\r\n    },\r\n    NIKE: {\r\n        name: 'Nike',\r\n        logo: 'nike--big.svg'\r\n    }\r\n}\r\n\r\nexport default StocksData;","import React from \"react\";\r\nimport {Avatar, Caption, Cell, Spinner, Title} from \"@vkontakte/vkui\";\r\nimport StocksData from \"../Functions/StocksData\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nconst StockCard = (p) => {\r\n    let price = parseFloat(p.price);\r\n    let ticker = p.ticker;\r\n    let avgPrice = parseFloat(p.avgPrice);\r\n    let count = parseFloat(p.count);\r\n    let sign = p.sign;\r\n    let stockData = StocksData[ticker];\r\n    if(!stockData){\r\n        return ''\r\n    }\r\n    let gainPercents = ((price / avgPrice) * 100 - 100);\r\n    let measure = p.measure;\r\n    let gain = parseFloat(price - avgPrice);\r\n    if(count < 0){\r\n        gainPercents *= -1;\r\n    }\r\n    const ruFormat = (a) => {\r\n        if(price) return new Intl.NumberFormat('ru-RU').format(a.toFixed(2));\r\n        return ''\r\n    }\r\n    const underName = () => {\r\n        return <Caption\r\n            style={ticker === 'RUBRUB' ? {display: 'none'} : {}}\r\n            level={2}\r\n            weight={\"regular\"}>\r\n            {`${ruFormat(count)} ${measure} · ${ruFormat(price)} ${sign}`}\r\n        </Caption>\r\n    }\r\n    const rightSide = () => {\r\n        return <div style={{textAlign: \"right\"}}>\r\n            <Title\r\n                style={{color: 'var(--header_text)'}}\r\n                level={3}\r\n                weight={\"medium\"}>\r\n                {p.portfolio ? ruFormat(count * price) : ruFormat(price)} {sign}\r\n            </Title>\r\n            <Caption\r\n                style={\r\n                    ticker === 'RUBRUB' ? {display: 'none'} :\r\n                        gain !== 0 ? (\r\n                            gain > 0 ?\r\n                                {color: 'var(--dynamic_green)'} :\r\n                                {color: 'var(--dynamic_red)'}\r\n                        ) : {color: 'var(--dynamic_gray)'}\r\n                }\r\n                level={2}\r\n                weight={\"regular\"}>\r\n                {p.portfolio ? ruFormat(count * gain) : ruFormat(gain)} {sign} ({ruFormat(gainPercents)}%)\r\n            </Caption>\r\n        </div>\r\n    }\r\n    return <Cell\r\n        onClick={() => {\r\n            bridge.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\r\n            p.setActiveModal('stock', {\r\n                ticker: ticker,\r\n                name: stockData.name,\r\n                price: price,\r\n                count: count,\r\n                avgPrice: avgPrice\r\n        })}}\r\n        before={\r\n            <Avatar\r\n                size={32}\r\n                src={require(`../Logos/${stockData.logo}`).default}\r\n            />}\r\n        description={p.portfolio && price ? underName() : ''}\r\n        indicator={\r\n            price ? rightSide() : <Spinner/>}\r\n    >\r\n        <Title level={3} weight={\"semibold\"}>{stockData.name}</Title>\r\n    </Cell>\r\n}\r\n\r\nexport default StockCard;","import Div, {\r\n    Button,\r\n    ModalPage,\r\n    ModalPageHeader,\r\n    ModalRoot,\r\n    FormLayout,\r\n    FormItem, Input, IconButton, Header, Title, PanelHeaderBack, Checkbox, Group, Text, Caption, Headline, Cell, List\r\n} from \"@vkontakte/vkui\";\r\nimport {useState} from \"react\";\r\nimport {Icon24Add, Icon24Cancel} from \"@vkontakte/icons\";\r\nimport fs from \"../Functions/Firebase\";\r\n\r\nconst Modal = (p) => {\r\n    const [type, setType] = useState(null);\r\n    const [input, updateInput] = useState(0);\r\n    const [marginable, setMarginable] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    if(!p.t){\r\n        return '';\r\n    }\r\n    if(p.t.ticker === ''){\r\n        return '';\r\n    }\r\n    if(p.t.ticker === 'RUBRUB'){\r\n        return '';\r\n    }\r\n    let isBuying = -1;\r\n    let rubToUsd = 1 / p.q.usd.val;\r\n    if(type === 'sell'){\r\n        isBuying = 1;\r\n    }\r\n    let isCurency = ['RUBCHF', 'RUBUSD', 'RUBEUR', 'RUBGBP'].indexOf(p.t.ticker) >= 0;\r\n    let availableS = Math.floor(Number(p.c.usd.count / p.t.price * 0.995));\r\n    let availableC = Math.floor(Number(p.c.rub.count / p.t.price * 0.995));\r\n    let availableCL = Math.floor(Number(p.u.rubValueAvailable / p.t.price * 0.995));\r\n    let availableSL = Math.floor(Number(p.u.rubValueAvailable * rubToUsd / p.t.price * 0.995));\r\n    let available;\r\n    let availableL;\r\n    if(isCurency){\r\n        available = availableC;\r\n        availableL = availableCL;\r\n    }\r\n    else{\r\n        available = availableS;\r\n        availableL = availableSL;\r\n    }\r\n    if(type === 'sell'){\r\n        available = parseInt(p.t.count);\r\n        // availableL += parseInt(p.t.count);\r\n    }\r\n    if(available < 0){\r\n        available = 0;\r\n    }\r\n    if(availableL < available || !p.e){\r\n        availableL = available;\r\n    }\r\n\r\n    let priceTotal = input * p.t.price;\r\n\r\n    const formatInput = (t) => {\r\n        t = t.replace(/[^0-9]/g, '');\r\n        if(t.charAt(0) === '0' && t > 0){\r\n            t = t.substr(1);\r\n        }\r\n        if(t.length === 0){\r\n            t = 0;\r\n        }\r\n        if(t === 0 || t > available){\r\n            setMarginable(false);\r\n        }\r\n        return parseInt(t);\r\n    }\r\n    const closeModal = () => {\r\n        p.s(null, p.t);\r\n        setTimeout(() => {\r\n            setType(null);\r\n            updateInput(0);\r\n            setMarginable(false);\r\n            setLoading(false);\r\n        }, 250);\r\n    }\r\n    const makeDeal = () => {\r\n        let a = isBuying;\r\n        let c;\r\n        let y = p.c;\r\n        let x = p.p;\r\n        if(isCurency){\r\n            y.rub.count += a * input * p.t.price - 0.005 * input * p.t.price;\r\n            switch (p.t.ticker) {\r\n                case 'RUBCHF':\r\n                    y.chf.count += a * - 1 * input;\r\n                    y.chf.avgPrice = (p.c.chf.avgPrice * p.c.chf.count + input * a * -1 * p.t.price) / (p.c.chf.count + input * a * -1 * 0.995);\r\n                    break;\r\n                case 'RUBEUR':\r\n                    y.eur.count += a * - 1 * input;\r\n                    y.eur.avgPrice = (p.c.eur.avgPrice * p.c.eur.count + input * a * -1 * p.t.price) / (p.c.eur.count + input * a * -1 * 0.995);\r\n                    break;\r\n                case 'RUBUSD':\r\n                    y.usd.count += a * - 1 * input;\r\n                    y.usd.avgPrice = (p.c.usd.avgPrice * p.c.usd.count + input * a * -1 * p.t.price) / (p.c.usd.count + input * a * -1 * 0.995);\r\n                    break;\r\n                case 'RUBGBP':\r\n                    y.gbp.count += a * - 1 * input;\r\n                    y.gbp.avgPrice = (p.c.gbp.avgPrice * p.c.gbp.count + input * a * -1 * p.t.price) / (p.c.gbp.count + input * a * -1 * 0.995);\r\n                    break;\r\n                default:\r\n                    return\r\n            }\r\n\r\n        }\r\n        else{\r\n            y.usd.count += input * a * p.t.price - p.t.price * input * 0.005;\r\n            y.usd.avgPrice = (p.c.usd.avgPrice * p.c.usd.count + input * a * p.t.price * 0.995) / (p.c.usd.count + input * a * 0.995);\r\n            let i = 0;\r\n            for (const v of p.p) {\r\n                if(v.ticker === p.t.ticker){\r\n                    c = {\r\n                        ticker: v.ticker,\r\n                        avgPrice: (v.avgPrice * v.count + input * a * -1 * p.t.price) / (v.count + input * a * -1),\r\n                        count: v.count + input * a * -1\r\n                    }\r\n                    x[i] = c;\r\n                    break;\r\n                }\r\n                i++;\r\n            }\r\n            if(!c){\r\n                c = {\r\n                    ticker: p.t.ticker,\r\n                    avgPrice: p.t.price,\r\n                    count: input * a * -1\r\n                }\r\n                x.push(c);\r\n            }\r\n            for(let i = 0; i < x.length; i++) {\r\n                if(x[i].count === 0){\r\n                    x.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n        if(!x){\r\n            x = [];\r\n        }\r\n        setLoading(true);\r\n        fs.collection('users').doc('1').update({portfolio: x, currencies: p.c}).then((e) => {\r\n            p.d(type, input, p.t.price, p.t.ticker);\r\n            closeModal();\r\n        });\r\n    }\r\n    const isMarginable = () => {\r\n        if(input === 0){\r\n            return false;\r\n        }\r\n        if(type === 'sell'){\r\n            return p.t.count - input < 0 && input <= availableL;\r\n        }\r\n        else{\r\n            return available < input && availableL >= input;\r\n        }\r\n    }\r\n\r\n    const Description = () => {\r\n        return <Group header={<Header mode={'secondary'}>О компании</Header>}>\r\n            <FormItem>\r\n                NVIDIA проектирует, разрабатывает и продает процессоры трехмерной (3D) графики и соответствующее программное обеспечение. Компания предлагает продукты, обеспечивающие интерактивную трехмерную графику на массовом рынке персональных компьютеров.\r\n            </FormItem>\r\n        </Group>\r\n    }\r\n\r\n    return <ModalRoot activeModal={p.v} onClose={closeModal}>\r\n        <ModalPage\r\n            id={\"stock\"}\r\n            header={<ModalPageHeader left={<PanelHeaderBack onClick={closeModal}/>}><Header>{p.t.name}</Header></ModalPageHeader>}\r\n            dynamicContentHeight\r\n        >\r\n            {Description()}\r\n            <FormLayout>\r\n                {!p.m && !isCurency ? <Button disabled stretched size={'l'} mode={'secondary'}>Биржа закрыта</Button> :\r\n                    type === null ?\r\n                    <FormItem style={{display: 'flex'}}>\r\n                        <Button onClick={() => {setType('buy')}} mode={\"commerce\"} stretched size={\"l\"}>Купить</Button>\r\n                        <div style={{width: 10}}/>\r\n                        <Button onClick={() => {setType('sell')}} mode={\"destructive\"} stretched size={\"l\"}>Продать</Button>\r\n                    </FormItem>\r\n                    :\r\n                    <div>\r\n                        <FormItem>\r\n                            <Title level={1} weight={'bold'}>{type === 'buy' ? 'Покупка' : 'Продажа'}</Title>\r\n                        </FormItem>\r\n                        <FormItem>\r\n                            <Input disabled value={parseFloat(p.t.price).toFixed(2)}/>\r\n                        </FormItem>\r\n                        <FormItem>\r\n                            <Title level={1} weight={'bold'}>Количество</Title>\r\n                        </FormItem>\r\n                        <FormItem bottom={`доступно ${available}` + (p.e ? ` шт. (${availableL} с плечом)` : ``)}>\r\n                            <Input after={\r\n                                <div style={{display: 'flex'}}>\r\n                                    {input !== 0 ? <IconButton icon={<Icon24Cancel onClick={() => updateInput(0)}/>}/> : ''}\r\n                                    <IconButton icon={<Icon24Add onClick={() => {updateInput(input + 1)}}/>}/>\r\n                                </div>\r\n                            }\r\n                                   onChange={(e) => updateInput(formatInput(e.target.value))}\r\n                                   value={input}\r\n                            />\r\n                        </FormItem>\r\n                        {isMarginable() ? <FormItem>\r\n                            <Checkbox onChange={() => setMarginable(!marginable)}>Маржинальная сделка</Checkbox>\r\n                        </FormItem> : ''}\r\n                        {input !== 0 ? <FormItem>\r\n                            <Cell style={{paddingLeft: 12, paddingRight: 12}} after={(input * p.t.price * 0.005).toFixed(2)} description={'Коммиссия'}/>\r\n                            <Cell style={{paddingLeft: 12, paddingRight: 12}} after={(input * p.t.price * (1 - isBuying * 0.005)).toFixed(2)} description={'Итого'}/>\r\n                        </FormItem> : ''}\r\n                        <FormItem>\r\n                            <Button disabled={\r\n                                loading ||\r\n                                input === 0 ||\r\n                                (input > available && !marginable) ||\r\n                                input > availableL\r\n                                // (isCurency && (\r\n                                //     (type === 'sell' && (\r\n                                //         (input > p.t.count && !marginable) ||\r\n                                //             input > p.t.count + availableC * 3\r\n                                //     )) ||\r\n                                //     (type === 'buy' && (\r\n                                //         (input > availableC && !marginable) ||\r\n                                //             input > availableC * 3\r\n                                //     ))\r\n                                //     //input > availableC && !marginable\r\n                                // )) ||\r\n                                // (!isCurency && (\r\n                                //     (type === 'sell' && (\r\n                                //         (input > p.t.count && !marginable) ||\r\n                                //         input > p.t.count + availableS * 3\r\n                                //     )) ||\r\n                                //     (type === 'buy' && (\r\n                                //         (input > availableS && !marginable) ||\r\n                                //         input > availableS * 3\r\n                                //     ))\r\n                                // ))\r\n                                // (input > (isCurency ? availableC : availableS) && !marginable && !(type === 'sell' && input <= p.t.count)) ||\r\n                                // (input > (isCurency ? availableC * 3 : availableS * 3) && !(type === 'sell' && input <= p.t.count))\r\n                            } onClick={makeDeal} size={\"l\"} stretched loading={loading}>{type === 'buy' ? 'Купить' : 'Продать'}</Button>\r\n                        </FormItem>\r\n                    </div>\r\n                }\r\n            </FormLayout>\r\n        </ModalPage>\r\n    </ModalRoot>\r\n}\r\n\r\nexport default Modal;","import {Avatar, HorizontalCell} from \"@vkontakte/vkui\";\r\nimport StocksData from \"../Functions/StocksData\";\r\nimport React from \"react\";\r\n\r\nconst StockCardHorizontal = (p) => {\r\n    let d = StocksData[p.v];\r\n    return <HorizontalCell disabled>\r\n        <Avatar size={64}\r\n                src={require(`../Logos/${d.logo}`).default}\r\n        />\r\n    </HorizontalCell>\r\n}\r\n\r\nexport default StockCardHorizontal;","import React from 'react'\r\nimport {Spinner} from \"@vkontakte/vkui\";\r\nimport StockCard from \"./StockCard\";\r\n\r\nconst CurrenciesGroup = (p) => {\r\n    if(p.cash.length === 0 || p.rates.length === 0){\r\n        return <Spinner size=\"large\"/>\r\n    }\r\n    let v;\r\n    let s = {\r\n        usd: '$',\r\n        eur: '€',\r\n        rub: '₽',\r\n        gbp: '£',\r\n        chf: '₣'\r\n    }\r\n    return Object.keys(p.cash).map(k => {\r\n        v = p.cash[k];\r\n        if((v.count !== 0 || !p.p) && ((k === 'rub' && p.p) || !(!p.p && k === 'rub'))){\r\n            return <StockCard\r\n                avgPrice={p.p ? v.avgPrice : p.rates[k].valPrev}\r\n                count={p.p || v.count ? v.count : 0}\r\n                price={p.rates[k].val}\r\n                ticker={p.rates[k].ticker}\r\n                portfolio={p.p}\r\n                setActiveModal={p.s}\r\n                sign={'₽'}\r\n                measure={s[k]}\r\n                key={p.rates[k].val+k}\r\n            />\r\n        }\r\n        return '';\r\n    });\r\n}\r\n\r\nexport default CurrenciesGroup;","import {Card, CardGrid, Group, Header, Title} from \"@vkontakte/vkui\";\r\nimport {Icon28MoneyHistoryBackwardOutline, Icon28MoneyRequestOutline, Icon28QuestionOutline} from \"@vkontakte/icons\";\r\nimport React from \"react\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nconst OperationCards = (p) => {\r\n    return <Group header={<Header mode={'secondary'}>Операции</Header>}>\r\n        <CardGrid size=\"s\" style={{textAlign: 'center', color: 'var(--accent_alternate)'}}>\r\n            <Card style={{paddingTop: 14, paddingBottom: 14, textAlign: 'center'}}>\r\n                <Title weight={'semibold'} level={3}>\r\n                    История\r\n                </Title>\r\n                <Icon28MoneyHistoryBackwardOutline style={{display: 'inline-block', marginTop: 6}}/>\r\n            </Card>\r\n            <Card\r\n                onClick={() =>\r\n                    {\r\n                        p.tdb();\r\n                        bridge.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"heavy\"});\r\n                    }\r\n                }\r\n                style={{paddingTop: 14, paddingBottom: 14, textAlign: 'center'}}>\r\n                <Title weight={'semibold'} level={3}>\r\n                    Бонус\r\n                </Title>\r\n                <Icon28MoneyRequestOutline style={{display: 'inline-block', marginTop: 6}}/>\r\n            </Card>\r\n            <Card style={{paddingTop: 14, paddingBottom: 14, textAlign: 'center'}}>\r\n                <Title weight={'semibold'} level={3}>\r\n                    Помощь\r\n                </Title>\r\n                <Icon28QuestionOutline style={{display: 'inline-block', marginTop: 6}}/>\r\n            </Card>\r\n        </CardGrid>\r\n    </Group>\r\n}\r\n\r\nexport default OperationCards;","import {Card, CardGrid, Cell, Group, Header, List, Switch} from \"@vkontakte/vkui\";\r\nimport React from \"react\";\r\n\r\nconst MarginCards = (p) => {\r\n    const ruFormat = (a) => {\r\n        return new Intl.NumberFormat('ru-RU').format(a.toFixed(2)) + ' ₽';\r\n    }\r\n    let a = <div>\r\n        <Cell disabled after={ruFormat(p.u.rubValueAvailable)}>\r\n            Доступно средств\r\n        </Cell>\r\n        <Cell disabled after={ruFormat(p.u.rubValueNaked)}>\r\n            Непокрытые позиции\r\n        </Cell>\r\n        <Cell disabled after={'1:'+p.u.leverage}>\r\n            Кредитное плечо\r\n        </Cell>\r\n    </div>\r\n    if(!p.e){\r\n        a = ''\r\n    }\r\n    return <Group header={<Header mode={'secondary'}>Маржинальная торговля</Header>}>\r\n        <CardGrid size={\"l\"}>\r\n            <Card>\r\n                <List>\r\n                    <Cell disabled after={<Switch checked={p.e} onChange={p.m}/>}>\r\n                        Торговля с плечом\r\n                    </Cell>\r\n                    {a}\r\n                </List>\r\n            </Card>\r\n        </CardGrid>\r\n    </Group>\r\n}\r\n\r\nexport default MarginCards;","import './App.css';\r\nimport React from \"react\";\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport {\r\n    AdaptivityProvider,\r\n    ConfigProvider,\r\n    AppRoot,\r\n    SplitLayout,\r\n    Panel,\r\n    View,\r\n    Epic,\r\n    Tabbar,\r\n    TabbarItem,\r\n    Group,\r\n    CardScroll,\r\n    Header,\r\n    withPlatform,\r\n    Placeholder,\r\n    Button,\r\n    FixedLayout,\r\n    Spinner,\r\n    Snackbar,\r\n    Avatar,\r\n    CardGrid,\r\n    Card,\r\n    PanelHeader,\r\n    Title, Cell, List, Switch\r\n} from \"@vkontakte/vkui\";\r\nimport {\r\n    Icon16Done, Icon16ErrorCircleFill, Icon20CheckCircleFillGreen,\r\n    Icon24CupOutline,\r\n    Icon24SartOutline,\r\n    Icon24WorkOutline, Icon28MoneyHistoryBackwardOutline, Icon28MoneyRequestOutline, Icon28QuestionOutline,\r\n    Icon56GestureOutline, Icon56HistoryOutline\r\n} from '@vkontakte/icons';\r\nimport BalanceCards from \"./Components/BalanceCards\";\r\nimport fs from \"./Functions/Firebase.js\";\r\nimport StockCard from \"./Components/StockCard\";\r\nimport StocksData from \"./Functions/StocksData\";\r\nimport Modal from \"./Components/Modal\";\r\nimport StockCardHorizontal from \"./Components/StockCardHorizontal\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport CurrenciesGroup from \"./Components/CurrenciesGroup\";\r\nimport OperationCards from \"./Components/OperationCards\";\r\nimport MarginCards from \"./Components/MarginCards\";\r\n\r\nconst unique = (value, index, self) => {\r\n    return self.indexOf(value) === index;\r\n}\r\n\r\nclass App extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activePanel: 'portfolio',\r\n            activeStock: {ticker: ''},\r\n            portfolio: [],\r\n            cash: [],\r\n            currencies: {},\r\n            stocksMarket: [],\r\n            modal: null,\r\n            loading: true,\r\n            scheme: 'bright_light',\r\n            stocksAvailable: [],\r\n            stocksAvailableNextWeek: [],\r\n            AlpacaConnected: false,\r\n            snackBar: '',\r\n            deals: [],\r\n            marketOpen: false,\r\n            lastBonusTaken: Infinity,\r\n            marginable: false\r\n        }\r\n        this.api_key = 'CKB1ZOZN09CF26RO6LPJ';\r\n        this.api_secret = 'cBuWsqBlsuB5aAf8c0qqHrL9jy5SWqX3kY9e6Qao';\r\n        this.getPrice = this.getPrice.bind(this);\r\n        this.setActiveModal = this.setActiveModal.bind(this);\r\n        this.userDataUpdatesSubscribe = this.userDataUpdatesSubscribe.bind(this);\r\n        this.stocksSubscribe = this.stocksSubscribe.bind(this);\r\n        this.dealComplete = this.dealComplete.bind(this);\r\n        this.marketOpen = this.marketOpen.bind(this);\r\n        this.userValue = this.userValue.bind(this);\r\n        this.takeDailyBonus = this.takeDailyBonus.bind(this);\r\n        this.changeMarginStatus = this.changeMarginStatus.bind(this);\r\n    }\r\n    async componentDidMount() {\r\n        await this.connectAlpacaWSS();\r\n        await this.getCurrencyData();\r\n        await this.userDataUpdatesSubscribe();\r\n        await this.stocksSubscribe();\r\n        this.userValue();\r\n        await bridge.subscribe(e => {\r\n            if(e.detail.type === 'VKWebAppUpdateConfig'){\r\n                this.setState({\r\n                    scheme: e.detail.data.scheme\r\n                });\r\n            }\r\n        });\r\n        bridge.send('VKWebAppInit').then(() =>{\r\n\r\n        });\r\n        this.marketOpen(0);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.state.AlpacaConnected){\r\n            let a = [...this.state.portfolio, ...this.state.stocksMarket];\r\n            let c = [...prevState.portfolio, ...prevState.stocksMarket];\r\n            let b = [];\r\n            let d = [];\r\n            for(const v of a){\r\n                b.push(v.ticker);\r\n            }\r\n            for(const v of c){\r\n                d.push(v.ticker);\r\n            }\r\n            if(b.filter(unique).length !== d.filter(unique).length){\r\n                this.AlpacaSend('subscribe');\r\n            }\r\n        }\r\n    }\r\n    stocksSubscribe(){\r\n        fs.collection('users').doc('-1').onSnapshot(\r\n            async e => {\r\n                // console.log(e);\r\n                this.pushStock(e.data().thisweek).then(v => {\r\n                    this.setState({\r\n                        stocksMarket: v\r\n                    })\r\n                });\r\n                this.setState({\r\n                    stocksAvailableNextWeek: e.data().nextweek\r\n                });\r\n            }\r\n        );\r\n    }\r\n    userValue(){\r\n        const leverage = 5;\r\n        let c = this.state.currencies;\r\n        if(!c.chf){\r\n            return {}\r\n        }\r\n        let CHFUSD = c.chf.val / c.usd.val;\r\n        let GBPUSD = c.gbp.val / c.usd.val;\r\n        let EURUSD = c.eur.val / c.usd.val;\r\n        let RUBUSD = c.rub.val / c.usd.val;\r\n        let rates = {\r\n            usd: 1,\r\n            chf: CHFUSD,\r\n            gbp: GBPUSD,\r\n            eur: EURUSD,\r\n            rub: RUBUSD\r\n        }\r\n        let usdValue = 0;\r\n        let usdAbs = 0;\r\n        this.state.portfolio.forEach(v => {\r\n            usdValue += v.price * v.count;\r\n            usdAbs += Math.abs(v.price * v.count);\r\n        });\r\n        for (const [k, v] of Object.entries(this.state.cash)) {\r\n            usdValue += v.count * rates[k];\r\n            usdAbs += Math.abs(v.count * rates[k]);\r\n        }\r\n        let eurValue = usdValue / EURUSD;\r\n        let rubValue = usdValue / RUBUSD;\r\n        let naked = (usdAbs / RUBUSD - rubValue) / 2;\r\n        let avail = rubValue * leverage - naked;\r\n        return {\r\n            usdValue: usdValue,\r\n            eurValue: eurValue,\r\n            rubValue: rubValue,\r\n            rubValueAbsolute: (usdAbs / RUBUSD) / 2,\r\n            rubValueNaked: naked,\r\n            rubValueAvailable: avail > 0 ? avail : 0,\r\n            marginStart: rubValue * 0.5,\r\n            marginMin: rubValue * 0.25,\r\n            leverage: leverage\r\n        }\r\n    }\r\n    async getCurrencyData(){\r\n        let a;\r\n        await fetch('https://www.cbr-xml-daily.ru/daily_json.js').then(async e => {\r\n            a = await Promise.resolve(e.json());\r\n            this.setState({currencies: {\r\n                    rub: {val: 1, ticker: 'RUBRUB', valPrev: 1},\r\n                    usd: {val: parseFloat(a.Valute.USD.Value), ticker: 'RUBUSD', valPrev: parseFloat(a.Valute.USD.Previous)},\r\n                    eur: {val: parseFloat(a.Valute.EUR.Value), ticker: 'RUBEUR', valPrev: parseFloat(a.Valute.EUR.Previous)},\r\n                    chf: {val: parseFloat(a.Valute.CHF.Value), ticker: 'RUBCHF', valPrev: parseFloat(a.Valute.CHF.Previous)},\r\n                    gbp: {val: parseFloat(a.Valute.GBP.Value), ticker: 'RUBGBP', valPrev: parseFloat(a.Valute.GBP.Previous)}\r\n                }});\r\n        });\r\n        //return await Promise.resolve(a);\r\n    }\r\n    userDataUpdatesSubscribe(){\r\n        fs.collection('users').doc('1').onSnapshot(\r\n            async e => {\r\n                let c = this.state.portfolio;\r\n                let p = await this.portfolioInit(e.data().portfolio, c);\r\n                this.setState({\r\n                    portfolio: p,\r\n                    cash: e.data().currencies,\r\n                    deals: e.data().deals,\r\n                    loading: false,\r\n                    lastBonusTaken: e.data().lastBonusTaken,\r\n                    marginable: e.data().marginable\r\n                })\r\n            }\r\n        );\r\n    }\r\n    connectAlpacaWSS(){\r\n        this.ws = new WebSocket('wss://stream.data.sandbox.alpaca.markets/v2/iex');\r\n        this.ws.onopen = () => {\r\n            this.AlpacaSend('auth');\r\n        };\r\n        this.ws.onmessage = (e) => {\r\n          let a = JSON.parse(e.data)[0];\r\n          if(a.msg === 'authenticated'){\r\n              this.setState({AlpacaConnected: true});\r\n          }\r\n          if(a.T === 't'){\r\n              this.stockPriceUpdate(a.S, a.p);\r\n          }\r\n        }\r\n    }\r\n    AlpacaSend(method){\r\n        if(method === 'auth'){\r\n            this.ws.send('{\"action\":\"auth\",\"key\":\"CKB1ZOZN09CF26RO6LPJ\",\"secret\":\"cBuWsqBlsuB5aAf8c0qqHrL9jy5SWqX3kY9e6Qao\"}');\r\n            return;\r\n        }\r\n        if(method === 'subscribe'){\r\n            let a = [...this.state.portfolio, ...this.state.stocksMarket];\r\n            let b = [];\r\n            for(const v of a){\r\n                b.push(v.ticker);\r\n            }\r\n            if(b.length === 0){\r\n                return;\r\n            }\r\n            this.ws.send(JSON.stringify({action:\"subscribe\",trades:b.filter(unique)}));\r\n            return;\r\n        }\r\n    }\r\n    takeDailyBonus(){\r\n        if(new Date().getDate() === new Date(this.state.lastBonusTaken).getDate()){\r\n            this.setState({\r\n                snackBar: <Snackbar\r\n                    onClose={() => this.setState({snackBar: null})}\r\n                    before={<Icon16ErrorCircleFill width={24} height={24} />}\r\n                >\r\n                    Бонус можно будет получить завтра\r\n                </Snackbar>\r\n            })\r\n            return;\r\n        }\r\n        let a = this.state.cash;\r\n        a.rub.count += 10000;\r\n        fs.collection('users').doc('1').update({\r\n            lastBonusTaken: new Date().getTime(),\r\n            currencies: a\r\n        }).then(() => this.setState({\r\n            snackBar: <Snackbar\r\n                onClose={() => this.setState({snackBar: null})}\r\n                before={<Icon20CheckCircleFillGreen width={24} height={24} />}\r\n            >\r\n                На счет зачислено 10 000 ₽\r\n            </Snackbar>\r\n        }))\r\n    }\r\n    stockPriceUpdate(ticker, price){\r\n        let a = this.state.portfolio;\r\n        if(this.state.activeStock.ticker === ticker){\r\n            let c = this.state.activeStock;\r\n            c.price = price;\r\n            this.setState({activeStock: c});\r\n        }\r\n        for(let i = 0; i < a.length; i++){\r\n            if(a[i].ticker === ticker){\r\n                a[i].price = price;\r\n                this.setState({\r\n                    portfolio: a\r\n                });\r\n                return;\r\n            }\r\n        }\r\n        let b = this.state.stocksMarket;\r\n        for(let i = 0; i < b.length; i++){\r\n            if(b[i].ticker === ticker){\r\n                b[i].price = price;\r\n                this.setState({\r\n                    stocksMarket: b\r\n                });\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    async portfolioInit(stocks, stocksBefore){\r\n        let a = [];\r\n        // console.log(stocks, stocksBefore);\r\n        // for(const v of stocks){\r\n        //     let d = stocksBefore.find(s => s.ticker === v.ticker);\r\n        //     if(!d){\r\n        //         console.log('a');\r\n        //         continue;\r\n        //     }\r\n        //     if(v.count !== d.count){\r\n        //         console.log(d);\r\n        //         let c = stocksBefore.findIndex(s => s.ticker === v.ticker);\r\n        //         let z = await this.getPrice(v.ticker);\r\n        //         stocksBefore[c] = {\r\n        //             ticker: v.ticker,\r\n        //             name: StocksData[v.ticker].name,\r\n        //             price: z.trade.p,\r\n        //             avgPrice: v.avgPrice,\r\n        //             count: v.count\r\n        //         };\r\n        //         return await Promise.resolve(stocksBefore);\r\n        //     }\r\n        // }\r\n        for (const v of stocks) {\r\n            let c = await this.getPrice(v.ticker);\r\n            a.push({\r\n                ticker: v.ticker,\r\n                name: StocksData[v.ticker].name,\r\n                price: c.trade.p,\r\n                avgPrice: v.avgPrice,\r\n                count: v.count\r\n            });\r\n        }\r\n        return Promise.resolve(a);\r\n    }\r\n    async pushStock(t){\r\n        let a = [];\r\n        for(const v of t){\r\n            await this.getPrice(v).then(async e => {\r\n                let s = await this.getPrice(v, e.trade.t);\r\n                a.push({\r\n                    ticker: v,\r\n                    name: StocksData[v].name,\r\n                    price: e.trade.p,\r\n                    priceBefore: s.trades[0].p\r\n                });\r\n            })\r\n        }\r\n        return a;\r\n    }\r\n    marketOpen(e){\r\n        let c = setInterval(() => {\r\n            let now = new Date(new Date().getTime() + new Date().getTimezoneOffset() * 60000 - 1000 * 5 * 60 * 60);\r\n            let open = new Date(now.getTime());\r\n            let close = new Date(now.getTime());\r\n            open.setHours(3);\r\n            open.setMinutes(30);\r\n            open.setSeconds(0);\r\n            close.setHours(20);\r\n            close.setMinutes(0);\r\n            close.setSeconds(0);\r\n            if(now.getTime() >= open.getTime() && now.getTime() <= close.getTime()){\r\n                if(!this.state.isMarketOpen){\r\n                    this.setState({isMarketOpen: true});\r\n                }\r\n            }\r\n            else{\r\n                if(this.state.isMarketOpen){\r\n                    this.setState({isMarketOpen: false});\r\n                }\r\n                // this.setState({isMarketOpen: true});\r\n            }\r\n        }, 5000)\r\n    }\r\n    async getPrice(ticker, date=null){\r\n        let a;\r\n        let u = 'https://data.sandbox.alpaca.markets/v2/stocks/'+ticker+'/trades/latest';\r\n        if(date !== null){\r\n            u = 'https://data.sandbox.alpaca.markets/v2/stocks/'+ticker+'/trades?limit=10&start='+(new Date(Date.parse(date) - 1000*24*60*60).toISOString())\r\n        }\r\n        await fetch(\r\n            u,\r\n            {\r\n                method: 'GET',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Authorization': 'Basic ' + window.btoa(this.api_key+':'+this.api_secret)\r\n                }\r\n            }\r\n        ).catch(() => {}).then(\r\n             async e => {\r\n                a = await e.json();\r\n            }\r\n        )\r\n        return await Promise.resolve(a);\r\n    }\r\n    setActivePanel(panel){\r\n        this.setState({activePanel: panel});\r\n    }\r\n    setActiveModal(modal, data){\r\n        this.setState({activeModal: modal, activeStock: data});\r\n    }\r\n    dealComplete(type, count, price, ticker){\r\n        this.setState({snackBar:\r\n                <Snackbar\r\n                    onClose={() => this.setState({ snackBar: null })}\r\n                    before={<Avatar size={24} style={{ background: 'var(--accent)' }}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n                >\r\n                    {`${type === 'buy' ? `Покупка` : `Продажа`} ${ticker} ${count} шт. по цене ${price}`}\r\n                </Snackbar>\r\n        });\r\n    }\r\n    changeMarginStatus(){\r\n        if(this.userValue().rubValueNaked > 0){\r\n            this.setState({\r\n                snackBar: <Snackbar\r\n                    onClose={() => this.setState({snackBar: null})}\r\n                    before={<Icon16ErrorCircleFill width={24} height={24} />}\r\n                >\r\n                    Сначала закройте непокрытые позиции\r\n                </Snackbar>\r\n            })\r\n            return\r\n        }\r\n        fs.collection('users').doc('1').update({\r\n            marginable: !this.state.marginable\r\n        });\r\n    }\r\n    render() {\r\n        const {platform} = this.props;\r\n        return <ConfigProvider platform={platform} scheme={this.state.scheme}>\r\n            <AdaptivityProvider>\r\n                <AppRoot>\r\n                    <SplitLayout modal={\r\n                        <Modal\r\n                            v={this.state.activeModal}\r\n                            s={this.setActiveModal}\r\n                            t={this.state.activeStock}\r\n                            c={this.state.cash}\r\n                            p={this.state.portfolio}\r\n                            d={this.dealComplete}\r\n                            q={this.state.currencies}\r\n                            m={this.state.isMarketOpen}\r\n                            u={this.userValue()}\r\n                            e={this.state.marginable}\r\n                        />\r\n                    }>\r\n                        <View activePanel={this.state.activePanel}>\r\n                            <Panel id={\"portfolio\"}>\r\n                                <BalanceCards\r\n                                    exchangeRates={this.state.currencies}\r\n                                    portfolio={this.state.portfolio}\r\n                                    cash={this.state.cash}\r\n                                    userValue={this.userValue()}\r\n                                />\r\n                                <MarginCards u={this.userValue()} m={this.changeMarginStatus} e={this.state.marginable}/>\r\n                                <OperationCards tdb={this.takeDailyBonus} b={this.state.lastBonusTaken}/>\r\n                                <Group\r\n                                    header={<Header mode={\"secondary\"}>Акции</Header>}\r\n                                >\r\n                                    {!this.state.loading && this.state.portfolio.length > 0 ?\r\n                                        this.state.portfolio.map((v,i) => {\r\n                                        return (\r\n                                            <StockCard\r\n                                                key={v.price+v.ticker}\r\n                                                avgPrice={v.avgPrice}\r\n                                                count={v.count}\r\n                                                price={v.price}\r\n                                                ticker={v.ticker}\r\n                                                portfolio={true}\r\n                                                setActiveModal={this.setActiveModal}\r\n                                                sign={'$'}\r\n                                                measure={'шт.'}\r\n                                            />\r\n                                        )\r\n                                    }) :\r\n                                        <Placeholder\r\n                                            icon={!this.state.loading ? <Icon56GestureOutline/> : <Spinner size={\"large\"}/>}\r\n                                            header={!this.state.loading ? <Header>Здесь пока пусто</Header> : ''}\r\n                                            action={!this.state.loading ? <Button onClick={() => this.setActivePanel(\"quotes\")} size={\"m\"}>К покупкам</Button> : ''}\r\n                                        />\r\n                                    }\r\n                                </Group>\r\n                                <Group header={<Header mode={'secondary'}>Валюты</Header>}>\r\n                                    <CurrenciesGroup s={this.setActiveModal} cash={this.state.cash} rates={this.state.currencies} p={true}/>\r\n                                </Group>\r\n                                <div style={{height: 48}}/>\r\n                            </Panel>\r\n                            <Panel id={\"quotes\"}>\r\n                                <Group header={<Header mode={'secondary'}>Валюты</Header>}>\r\n                                    <CurrenciesGroup s={this.setActiveModal} cash={this.state.cash} rates={this.state.currencies} p={false}/>\r\n                                </Group>\r\n                                <Group\r\n                                    header={<Header mode={\"secondary\"}>Доступно</Header>}\r\n                                >\r\n                                    {\r\n                                        this.state.stocksMarket.length > 0 ? this.state.stocksMarket.map((v) => {\r\n                                            let count = this.state.portfolio.find(o => o.ticker === v.ticker);\r\n                                            if(typeof(count) !== 'undefined'){\r\n                                                count = count.count;\r\n                                            }\r\n                                            else{\r\n                                                count = 0;\r\n                                            }\r\n                                            return <StockCard\r\n                                                key={v.price+v.ticker}\r\n                                                avgPrice={v.priceBefore}\r\n                                                count={count}\r\n                                                price={v.price}\r\n                                                ticker={v.ticker}\r\n                                                portfolio={false}\r\n                                                setActiveModal={this.setActiveModal}\r\n                                                sign={'$'}\r\n                                                measure={null}\r\n                                            />\r\n                                        }) : <Placeholder\r\n                                            icon={<Spinner size={\"large\"}/>}\r\n                                            header={<Header>Загружаем</Header>}\r\n                                            // action={!this.state.loading ? <Button onClick={() => this.setActivePanel(\"quotes\")} size={\"m\"}>К покупкам</Button> : ''}\r\n                                        />\r\n\r\n                                    }\r\n                                </Group>\r\n                                <Group header={<Header mode={\"secondary\"}>на следующей неделе</Header>}>\r\n                                    <CardScroll>\r\n                                        {\r\n                                            this.state.stocksAvailableNextWeek.map((v,i) => {\r\n                                                return <StockCardHorizontal key={'horizontalcard'+i} v={v}/>\r\n                                            })\r\n                                        }\r\n                                    </CardScroll>\r\n                                </Group>\r\n                                <div style={{height: 48}}/>\r\n                            </Panel>\r\n                            <Panel id={\"rating\"}>\r\n                            </Panel>\r\n                        </View>\r\n                    </SplitLayout>\r\n                    <FixedLayout>\r\n                        {this.state.snackBar}\r\n                        <Epic activeStory={this.state.activePanel} tabbar={\r\n                            <Tabbar>\r\n                                <TabbarItem selected={this.state.activePanel === \"portfolio\"} id={\"portfolio\"} onClick={() => this.setActivePanel(\"portfolio\")} text={\"Портфель\"}>\r\n                                    <Icon24WorkOutline/>\r\n                                </TabbarItem>\r\n                                <TabbarItem selected={this.state.activePanel === \"quotes\"} id={\"quotes\"} onClick={() => this.setActivePanel(\"quotes\")} text={\"Маркет\"}>\r\n                                    <Icon24SartOutline/>\r\n                                </TabbarItem>\r\n                                <TabbarItem selected={this.state.activePanel === \"rating\"} id={\"rating\"} onClick={() => this.setActivePanel(\"rating\")} text={\"Рейтинг\"}>\r\n                                    <Icon24CupOutline/>\r\n                                </TabbarItem>\r\n                            </Tabbar>\r\n                        }/>\r\n                    </FixedLayout>\r\n                </AppRoot>\r\n            </AdaptivityProvider>\r\n        </ConfigProvider>\r\n    }\r\n}\r\n\r\n// const App = () => {\r\n//     const platform = usePlatform();\r\n//     fetch(\r\n//         'https://data.sandbox.alpaca.markets/v2/stocks/AAPL/quotes/latest',//?start='+(new Date(Date.now() - 1000*15*60).toISOString()),\r\n//         {\r\n//             method: 'GET',\r\n//             mode: 'cors',\r\n//             headers: {\r\n//                 'Authorization': 'Basic ' + window.btoa(api_key+':'+api_secret)\r\n//             }\r\n//         }\r\n//     ).catch(() => {}).then(\r\n//         (e) => {\r\n//             //s\r\n//         }\r\n//     )\r\n//     const [activePanel, setActivePanel] = useState(\"portfolio\");\r\n//     const\r\n//\r\n// }\r\n\r\nwithPlatform(App);\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}