{"version":3,"sources":["Logos/adobe--big.svg","Logos/alphabet--big.svg","Logos/amazon--big.svg","Logos/american-express--big.svg","Logos/apple--big.svg","Logos/blackrock--big.svg","Logos/coca-cola--big.svg","Logos/garmin-ltd--big.svg","Logos/intel--big.svg","Logos/microsoft--big.svg","Components/BalanceCard.js","Components/BalanceCards.js","Functions/Firebase.js","Functions/StocksData.js","Components/StockCard.js","Components/Modal.js","App.js","reportWebVitals.js","index.js","Logos sync /^/.*$"],"names":["BalanceCard","p","a","rub","usd","eur","style","padding","weight","level","b","toFixed","BalanceCards","header","mode","size","c","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","fs","firestore","StocksData","AAPL","name","logo","ADBE","GOOG","AMZN","AXP","BLK","KO","GRMN","INTC","MSFT","StockCard","v","d","x","y","onClick","s","before","src","require","default","description","indicator","textAlign","color","Modal","useState","type","setType","input","updateInput","closeModal","setTimeout","activeModal","onClose","id","left","t","dynamicContentHeight","display","stretched","width","disabled","value","bottom","after","icon","onChange","e","target","replace","charAt","substr","length","App","props","state","activePanel","userPortfolio","stockPrices","avgPrices","sharesCount","currencies","stocksMarket","modal","api_key","api_secret","getPrice","bind","getUserStocks","setActiveModal","this","then","portfolioInit","setState","pushStock","connectAlpacaWSS","collection","doc","get","data","portfolio","Promise","resolve","ws","WebSocket","onopen","send","onmessage","JSON","parse","msg","T","stockPriceUpdate","S","i","indexOf","stocks","push","ticker","avgPrice","count","trade","price","priceBefore","trades","console","log","date","u","Date","toISOString","fetch","method","headers","window","btoa","catch","json","panel","activeTicker","platform","scheme","map","action","setActivePanel","activeStory","tabbar","selected","text","React","Component","withPlatform","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","module","exports"],"mappings":"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","file":"static/js/main.a817ad59.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/adobe--big.98cc2849.svg\";","export default __webpack_public_path__ + \"static/media/alphabet--big.1fd8d0cf.svg\";","export default __webpack_public_path__ + \"static/media/amazon--big.86572285.svg\";","export default __webpack_public_path__ + \"static/media/american-express--big.f2f13164.svg\";","export default __webpack_public_path__ + \"static/media/apple--big.47cacdad.svg\";","export default __webpack_public_path__ + \"static/media/blackrock--big.23dd7937.svg\";","export default __webpack_public_path__ + \"static/media/coca-cola--big.0b539a92.svg\";","export default __webpack_public_path__ + \"static/media/garmin-ltd--big.96a04453.svg\";","export default __webpack_public_path__ + \"static/media/intel--big.0cfaf02c.svg\";","export default __webpack_public_path__ + \"static/media/microsoft--big.dcfa5bc3.svg\";","import React from 'react';\r\nimport {Card, Text, Title} from \"@vkontakte/vkui\";\r\n\r\nconst BalanceCard = (p) => {\r\n    const a = {\r\n        rub: ['рублях', 'Р'],\r\n        usd: ['долларах', '$'],\r\n        eur: ['евро', 'E']\r\n    };\r\n    return <Card style={{padding: 16}}>\r\n        <Text weight={\"regular\"}>в {a[p.a][0]}</Text>\r\n        <Title level={1} weight={\"semibold\"}>{(10000/p.b).toFixed(2)} {a[p.a][1]}</Title>\r\n    </Card>\r\n}\r\n\r\nexport default BalanceCard;","import React from 'react'\r\nimport {CardScroll, Group, Header} from \"@vkontakte/vkui\";\r\nimport BalanceCard from \"./BalanceCard\";\r\n\r\nconst BalanceCards = (p) => {\r\n    return <Group header={<Header mode={\"secondary\"}>Счет</Header>}>\r\n        <CardScroll size={\"s\"}>\r\n            <BalanceCard a={'rub'} b={p.c.rub}/>\r\n            <BalanceCard a={'usd'} b={p.c.usd}/>\r\n            <BalanceCard a={'eur'} b={p.c.eur}/>\r\n        </CardScroll>\r\n    </Group>\r\n}\r\n\r\nexport default BalanceCards;","// Import the functions you need from the SDKs you need\r\nimport firebase from \"firebase\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDlCktyJU_nwYj-6SDlguxSLRAk6weznEQ\",\r\n    authDomain: \"beerja-84e5f.firebaseapp.com\",\r\n    projectId: \"beerja-84e5f\",\r\n    storageBucket: \"beerja-84e5f.appspot.com\",\r\n    messagingSenderId: \"453501298891\",\r\n    appId: \"1:453501298891:web:f31455addf2f4bb85d934e\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\nconst fs = firebase.firestore();\r\n\r\nexport default fs;","const StocksData = {\r\n    AAPL: {\r\n        name: 'Apple Inc.',\r\n        logo: 'apple--big.svg'\r\n    },\r\n    ADBE: {\r\n        name: 'Adobe',\r\n        logo: 'adobe--big.svg'\r\n    },\r\n    GOOG: {\r\n        name: 'Alphabet Inc.',\r\n        logo: 'alphabet--big.svg'\r\n    },\r\n    AMZN: {\r\n        name: 'Amazon',\r\n        logo: 'amazon--big.svg'\r\n    },\r\n    AXP: {\r\n        name: 'American Express Company',\r\n        logo: 'american-express--big.svg'\r\n    },\r\n    BLK: {\r\n        name: 'BlackRock, Inc.',\r\n        logo: 'blackrock--big.svg'\r\n    },\r\n    KO: {\r\n        name: 'Coca-Cola',\r\n        logo: 'coca-cola--big.svg'\r\n    },\r\n    GRMN: {\r\n        name: 'Garmin LTD.',\r\n        logo: 'garmin-ltd--big.svg'\r\n    },\r\n    INTC: {\r\n        name: 'Intel',\r\n        logo: 'intel--big.svg'\r\n    },\r\n    MSFT: {\r\n        name: 'Microsoft',\r\n        logo: 'microsoft--big.svg'\r\n    }\r\n}\r\n\r\nexport default StocksData;","import React from \"react\";\r\nimport {Avatar, Caption, Cell, Title} from \"@vkontakte/vkui\";\r\nimport StocksData from \"../Functions/StocksData\";\r\n\r\nconst StockCard = (p) => {\r\n    let c = p.c;\r\n    let v = p.v;\r\n    let a = p.a;\r\n    let b = p.b;\r\n    let d = StocksData[v];\r\n    let x = ((c / a) * 100 - 100).toFixed(2);\r\n    let y = c - a;\r\n    return <Cell\r\n        onClick={() => {p.s('stock', v)}}\r\n        before={<Avatar size={32} src={require(`../Logos/${d.logo}`).default}/>}\r\n        description={p.p ? <Caption level={2} weight={\"regular\"}>3x{c.toFixed(2)}$</Caption> : ''}\r\n        indicator={<div style={{textAlign: \"right\"}}>\r\n            <Title style={{color: '#000'}} level={3} weight={\"medium\"}>{p.p ? (3*c).toFixed(2) : c.toFixed(2)}$</Title>\r\n            <Caption style={x >= 0 ? {color: 'var(--dynamic_green)'} : {color: 'var(--dynamic_red)'}} level={2} weight={\"regular\"}>{y.toFixed(2)}$ ({x}%)</Caption>\r\n        </div>}\r\n    >\r\n        <Title level={3} weight={\"semibold\"}>{d.name}</Title>\r\n    </Cell>\r\n}\r\n\r\nexport default StockCard;","import {\r\n    Div,\r\n    Button,\r\n    Group,\r\n    ModalPage,\r\n    ModalPageHeader,\r\n    ModalRoot,\r\n    SliderSwitch,\r\n    FormLayout,\r\n    FormItem, Input, IconButton, Header, Title, PanelHeaderClose, PanelHeaderBack\r\n} from \"@vkontakte/vkui\";\r\nimport {useState} from \"react\";\r\nimport {Icon24Add, Icon24Cancel} from \"@vkontakte/icons\";\r\n\r\nconst Modal = (p) => {\r\n    const [type, setType] = useState(null);\r\n    const [input, updateInput] = useState(0);\r\n    //p.b = 10000;\r\n    const formatInput = (t) => {\r\n        t = t.replace(/[^0-9]/g, '');\r\n        if(t.charAt(0) === '0' && t > 0){\r\n            t = t.substr(1);\r\n        }\r\n        if(t.length === 0){\r\n            t = 0;\r\n        }\r\n        return t;\r\n    }\r\n    const closeModal = () => {\r\n        p.s(null, null);\r\n        setTimeout(() => {\r\n            setType(null);\r\n            updateInput(0);\r\n        }, 250);\r\n    }\r\n    return <ModalRoot activeModal={p.v} onClose={closeModal}>\r\n        <ModalPage\r\n            id={\"stock\"}\r\n            header={<ModalPageHeader left={<PanelHeaderBack onClick={closeModal}/>}><Header>{p.t}</Header></ModalPageHeader>}\r\n            dynamicContentHeight\r\n        >\r\n            <FormLayout>\r\n                {type === null ?\r\n                    <FormItem style={{display: 'flex'}}>\r\n                        <Button onClick={() => {setType('buy')}} mode={\"commerce\"} stretched size={\"l\"}>Купить</Button>\r\n                        <div style={{width: 10}}/>\r\n                        <Button onClick={() => {setType('sell')}} mode={\"destructive\"} stretched size={\"l\"}>Продать</Button>\r\n                    </FormItem>\r\n                    :\r\n                    <div>\r\n                        <FormItem>\r\n                            <Title level={1} weight={'bold'}>{type === 'buy' ? 'Покупка' : 'Продажа'}</Title>\r\n                        </FormItem>\r\n                        <FormItem>\r\n                            <Input disabled value={123}/>\r\n                        </FormItem>\r\n                        <FormItem>\r\n                            <Title level={1} weight={'bold'}>Количество</Title>\r\n                        </FormItem>\r\n                        <FormItem bottom={'доступно 2'}>\r\n                            <Input after={\r\n                                <div style={{display: 'flex'}}>\r\n                                    <IconButton icon={<Icon24Add/>}/>\r\n                                    <IconButton icon={<Icon24Cancel/>}/>\r\n                                </div>\r\n                            }\r\n                                   onChange={(e) => updateInput(formatInput(e.target.value))}\r\n                                   value={input}\r\n                            />\r\n                        </FormItem>\r\n                        <FormItem>\r\n                            <Button size={\"l\"} stretched>{type === 'buy' ? 'Купить' : 'Продать'}</Button>\r\n                        </FormItem>\r\n                    </div>\r\n                }\r\n            </FormLayout>\r\n        </ModalPage>\r\n    </ModalRoot>\r\n}\r\n\r\nexport default Modal;","import './App.css';\nimport React, {useState} from \"react\";\nimport '@vkontakte/vkui/dist/vkui.css';\nimport {\n    AdaptivityProvider,\n    ConfigProvider,\n    AppRoot,\n    SplitLayout,\n    Panel,\n    View,\n    usePlatform,\n    Epic,\n    Tabbar,\n    TabbarItem,\n    Card,\n    Group,\n    CardScroll,\n    Header,\n    Text,\n    Title,\n    Cell,\n    Avatar,\n    Caption,\n    withPlatform, Placeholder, Button, FixedLayout, HorizontalCell, HorizontalScroll, ModalRoot\n} from \"@vkontakte/vkui\";\nimport {Icon24CupOutline, Icon24SartOutline, Icon24WorkOutline, Icon56GestureOutline} from '@vkontakte/icons';\nimport BalanceCard from \"./Components/BalanceCard\";\nimport BalanceCards from \"./Components/BalanceCards\";\nimport fs from \"./Functions/Firebase.js\";\nimport StockCard from \"./Components/StockCard\";\nimport StocksData from \"./Functions/StocksData\";\nimport Modal from \"./Components/Modal\";\n\nclass App extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            activePanel: 'portfolio',\n            userPortfolio: [],\n            stockPrices: [],\n            avgPrices: [],\n            sharesCount: [],\n            currencies: {\n                rub: 1,\n                usd: 72.44,\n                eur: 81.12\n            },\n            stocksMarket: [],\n            modal: null\n        }\n        this.api_key = 'CKB1ZOZN09CF26RO6LPJ';\n        this.api_secret = 'cBuWsqBlsuB5aAf8c0qqHrL9jy5SWqX3kY9e6Qao';\n        this.getPrice = this.getPrice.bind(this);\n        this.getUserStocks = this.getUserStocks.bind(this);\n        this.setActiveModal = this.setActiveModal.bind(this);\n    }\n    async componentDidMount() {\n        await this.getUserStocks().then(e => {\n            this.portfolioInit(e).then(a => {\n                this.setState(a);\n            });\n        });\n        const possible = ['ADBE', 'GOOG', 'AXP', 'AMZN', 'BLK', 'AAPL', 'KO', 'GRMN', 'INTC', 'MSFT'];\n        for(const v of possible){\n            await this.pushStock(v);\n        }\n        this.connectAlpacaWSS();\n    }\n    async getUserStocks(){\n        let a;\n        await fs.collection('users').doc('1').get().then(e => a=e.data().portfolio);\n        return await Promise.resolve(a);\n    }\n\n    connectAlpacaWSS(){\n        const ws = new WebSocket('wss://stream.data.sandbox.alpaca.markets/v2/iex');\n        ws.onopen = () => {\n          ws.send('{\"action\":\"auth\",\"key\":\"CKB1ZOZN09CF26RO6LPJ\",\"secret\":\"cBuWsqBlsuB5aAf8c0qqHrL9jy5SWqX3kY9e6Qao\"}')\n        };\n        ws.onmessage = (e) => {\n          let a = JSON.parse(e.data)[0];\n          if(a.msg === 'authenticated'){\n            ws.send('{\"action\":\"subscribe\",\"trades\":[\"AAPL\",\"AMD\"]}');\n          }\n          if(a.T === 't'){\n              this.stockPriceUpdate(a.S, a.p);\n          }\n        }\n    }\n\n    stockPriceUpdate(t,v,c = true) {\n        let a = this.state.avgPrices;\n        if(c){\n            a = this.state.stockPrices;\n        }\n        let i = this.state.userPortfolio.indexOf(t);\n        a[i] = v;\n        this.setState(a ? {stockPrices: a} : {avgPrices: a});\n    }\n\n    async portfolioInit(stocks){\n        let a = [];\n        let b = [];\n        let c = [];\n        let d = [];\n        for (const v of stocks) {\n            a.push(v.ticker);\n            b.push(v.avgPrice);\n            c.push(v.count);\n            await this.getPrice(v.ticker).then(e => d.push(e.trade.p));\n        }\n        return {\n             userPortfolio: a,\n             avgPrices: b,\n             sharesCount: c,\n             stockPrices: d\n         };\n    }\n\n    async pushStock(t){\n        let a = this.state.stocksMarket;\n        for(const v of a){\n            if(v.ticker === t){\n                return false;\n            }\n        }\n        this.getPrice(t).then(async e => {\n            let s = await this.getPrice(t, e.trade.t);\n            // for(const x of s.quotes){\n            //     if(x.ap > 0){\n            //         s = x.ap;\n            //         break;\n            //     }\n            // }\n            a.push({\n                ticker: t,\n                name: StocksData[t].name,\n                price: e.trade.p,\n                priceBefore: s.trades[0].p\n            });\n        })\n        this.setState({stocksMarket: a});\n        console.log(this.state);\n    }\n\n\n    async getPrice(ticker, date=null){\n        let a;\n        let u = 'https://data.sandbox.alpaca.markets/v2/stocks/'+ticker+'/trades/latest';\n        if(date !== null){\n            u = 'https://data.sandbox.alpaca.markets/v2/stocks/'+ticker+'/trades?limit=10&start='+(new Date(Date.parse(date) - 1000*24*60*60).toISOString())\n        }\n        await fetch(\n            u,//?start='+(new Date(Date.now() - 1000*15*60).toISOString()),\n            {\n                method: 'GET',\n                mode: 'cors',\n                headers: {\n                    'Authorization': 'Basic ' + window.btoa(this.api_key+':'+this.api_secret)\n                }\n            }\n        ).catch(() => {}).then(\n             (e) => {\n                a = e.json();\n            }\n        )\n        return await Promise.resolve(a);\n    }\n\n    setActivePanel(panel){\n        this.setState({activePanel: panel});\n    }\n    setActiveModal(modal, data){\n        this.setState({activeModal: modal, activeTicker: data});\n    }\n    render() {\n        const {platform} = this.props;\n        return <ConfigProvider platform={platform} scheme={\"bright_light\"}>\n            <AdaptivityProvider>\n                <AppRoot>\n                    <SplitLayout modal={\n                            <Modal v={this.state.activeModal} s={this.setActiveModal} t={this.state.activeTicker}/>\n                    }>\n                        <View activePanel={this.state.activePanel}>\n                            <Panel id={\"portfolio\"}>\n                                <BalanceCards c={this.state.currencies}/>\n                                <Group\n                                    header={<Header mode={\"secondary\"}>Бумаги</Header>}\n                                >\n                                    {this.state.stockPrices.length > 0 ?\n                                        this.state.userPortfolio.map((v,i) => {\n                                            let a = this.state.avgPrices[i];\n                                            let b = this.state.sharesCount[i];\n                                            let c = this.state.stockPrices[i];\n                                        return (\n                                            <StockCard key={c+v} a={a} b={b} c={c} v={v} p={true} s={this.setActiveModal}/>\n                                        )\n                                    }) :\n                                        <Placeholder\n                                            icon={<Icon56GestureOutline/>}\n                                            header={<Header>Здесь пока пусто</Header>}\n                                            action={<Button onClick={() => this.setActivePanel(\"quotes\")} size={\"m\"}>К покупкам</Button>}\n                                        />\n                                    }\n                                </Group>\n                            </Panel>\n                            <Panel id={\"quotes\"}>\n                                <Group\n                                    header={<Header mode={\"secondary\"}>Доступно</Header>}\n                                >\n                                    {\n                                        this.state.stocksMarket.map((v,i) => {\n                                            return <StockCard key={v.price+v.ticker} a={v.priceBefore} b={0} c={v.price} v={v.ticker} p={false}/>\n                                        })\n                                    }\n                                </Group>\n                                <Group header={<Header mode={\"secondary\"}>на следующей неделе</Header>}>\n                                    <CardScroll>\n                                        {\n                                            this.state.stocksMarket.map((v,i) => {\n                                                return <HorizontalCell>\n                                                    <Avatar size={64} src={require(`./Logos/${StocksData[v.ticker].logo}`).default}/>\n                                                </HorizontalCell>\n                                            })\n                                        }\n                                    </CardScroll>\n                                </Group>\n                            </Panel>\n                            <Panel id={\"rating\"}>\n\n                            </Panel>\n                        </View>\n                    </SplitLayout>\n                    <FixedLayout>\n                        <Epic activeStory={this.state.activePanel} tabbar={\n                            <Tabbar>\n                                <TabbarItem selected={this.state.activePanel === \"portfolio\"} id={\"portfolio\"} onClick={() => this.setActivePanel(\"portfolio\")} text={\"Портфель\"}>\n                                    <Icon24WorkOutline/>\n                                </TabbarItem>\n                                <TabbarItem selected={this.state.activePanel === \"quotes\"} id={\"quotes\"} onClick={() => this.setActivePanel(\"quotes\")} text={\"Маркет\"}>\n                                    <Icon24SartOutline/>\n                                </TabbarItem>\n                                <TabbarItem selected={this.state.activePanel === \"rating\"} id={\"rating\"} onClick={() => this.setActivePanel(\"rating\")} text={\"Рейтинг\"}>\n                                    <Icon24CupOutline/>\n                                </TabbarItem>\n                            </Tabbar>\n                        }/>\n                    </FixedLayout>\n                </AppRoot>\n            </AdaptivityProvider>\n        </ConfigProvider>\n    }\n}\n\n// const App = () => {\n//     const platform = usePlatform();\n//     fetch(\n//         'https://data.sandbox.alpaca.markets/v2/stocks/AAPL/quotes/latest',//?start='+(new Date(Date.now() - 1000*15*60).toISOString()),\n//         {\n//             method: 'GET',\n//             mode: 'cors',\n//             headers: {\n//                 'Authorization': 'Basic ' + window.btoa(api_key+':'+api_secret)\n//             }\n//         }\n//     ).catch(() => {}).then(\n//         (e) => {\n//             //s\n//         }\n//     )\n//     const [activePanel, setActivePanel] = useState(\"portfolio\");\n//     const\n//\n// }\n\nwithPlatform(App);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","var map = {\n\t\"./adobe--big.svg\": 149,\n\t\"./alphabet--big.svg\": 150,\n\t\"./amazon--big.svg\": 151,\n\t\"./american-express--big.svg\": 152,\n\t\"./apple--big.svg\": 153,\n\t\"./blackrock--big.svg\": 154,\n\t\"./coca-cola--big.svg\": 155,\n\t\"./garmin-ltd--big.svg\": 156,\n\t\"./intel--big.svg\": 157,\n\t\"./microsoft--big.svg\": 158\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46;"],"sourceRoot":""}